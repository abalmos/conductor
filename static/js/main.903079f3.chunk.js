(this["webpackJsonpsmithfield-ui"]=this["webpackJsonpsmithfield-ui"]||[]).push([[0],{458:function(e,t,n){e.exports=n.p+"static/media/data.9d31a249.svg"},459:function(e,t,n){e.exports=n.p+"static/media/buisness.6b54fc90.svg"},460:function(e,t,n){e.exports=n.p+"static/media/connections.7c7332c0.svg"},465:function(e,t,n){e.exports=n.p+"static/media/upload.0c074248.svg"},466:function(e,t,n){e.exports=n.p+"static/media/processing.a0fb5f7a.svg"},467:function(e,t,n){e.exports=n.p+"static/media/signed.32666418.svg"},468:function(e,t){e.exports="data:image/png;base64,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"},493:function(e,t,n){e.exports=n(906)},498:function(e,t){e.exports="eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRldjEiLCJqd2siOnsia3R5IjoiUlNBIiwibiI6InJyMzhpSzhGaTBfLUNSTFR2Vks0SUlDbGFyaWk2d1ZIcEU3elpQWG9FUmxfT29oNjRZbWJRY1JhNWVGdzBVUWhVdkVDaEt1OU5vM2ptN0xXOVpjTDFIS3Joa1VXLU9Rb2JPWFVuckNnb0NwYThWWWhfd1JJZFFZYnN2UFFWajVOR3V1TlhhWkJfX3B4Rnktbl9PMklNUzhPR3Jlem0zYlFIREFmLWpuZ0loWkdaZ0xhdkxKeVNIVXlEUUw0RmJRNkQzUXozQU1PcnhGdmE0S0JJUENRS0ZPbVlYVm40enRnVDY4aGd5TW9jMUt5dHhvUmd6VkhuQ2RUcFBXV1Zybk1GY0plZFlELUxtazBYbzVyallPeG1xOEExZWpmeFBNZVJfM1Y3OEFKazJMREk0dkdhSjNmbmFQWlM3Q3ZXOEYzcFdXaWpfQnlWR0NJLTVCcmtxSF9uUSIsImUiOiJBUUFCIn19.eyJyZWRpcmVjdF91cmlzIjpbImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9vYXV0aDIvcmVkaXJlY3QuaHRtbCIsImh0dHBzOi8vdHJlbGxpc2Z3LmdpdGh1Yi5pby9jb25kdWN0b3Ivb2F1dGgyL3JlZGlyZWN0Lmh0bWwiXSwidG9rZW5fZW5kcG9pbnRfYXV0aF9tZXRob2QiOiJ1cm46aWV0ZjpwYXJhbXM6b2F1dGg6Y2xpZW50LWFzc2VydGlvbi10eXBlOmp3dC1iZWFyZXIiLCJncmFudF90eXBlcyI6WyJhdXRob3JpemF0aW9uX2NvZGUiXSwicmVzcG9uc2VfdHlwZXMiOlsidG9rZW4iLCJjb2RlIiwiaWRfdG9rZW4iLCJpZF90b2tlbiB0b2tlbiIsImNvZGUgaWRfdG9rZW4iLCJjb2RlIHRva2VuIiwiY29kZSBpZF90b2tlbiB0b2tlbiJdLCJjbGllbnRfbmFtZSI6IlRyZWxsaXMgLSBPcGVuIFNvdXJjZSIsImNsaWVudF91cmkiOiJodHRwczovL2dpdGh1Yi5jb20vdHJlbGxpc2Z3IiwiY29udGFjdHMiOlsiQWFyb24gQXVsdCA8YXVsdGFjQHB1cmR1ZS5lZHU-Il0sImp3a3MiOnsia2V5cyI6W3sia3R5IjoiUlNBIiwibiI6InZ3dzFLcjNIVTk1MHBKTDhOeXh0MVZZN0ZIZTN6eHpSZ1VrZE1udDNCUzZGZ3h5cHZXR29YTWE5UFpYUHcxX3hiUVc1cFdJVU91ZG1Kek1MRnRZMzlrUVFiSW9WdDF1WV9JdEI0NmdrNTIzS0FRVktiQzQtVFgyT25WSGRJLWswY1FlTmZIakl0c0RjZE4tUFhKVlMtNzBEMFlhMEQzV3lpVEhPaHNkWXpXQm1iYUVwbDVEbkRrY0dCbjA4RXBMdzFlWWE4ejlxSHRlNE1Wc01jczJpdjdmeDZ0TTJmbVBlNFB5WUF4ZVJYU0RTMVdKcndReUs5SnJHMVBfQVF1X0xFQ2V6aUp0ZVk2RVZ1aVczbGI1WDhZOW9xM3FwNWV4SkNWWVJ2c3NRVXc1Ti1XdjhENUlpeTdBNmJMLUhKUDFfOWJ5OThSWTh4LVhiSzR6X0VMUjNNUSIsImUiOiJBUUFCIiwia2lkIjoiOTRhYWJiM2FhMTkxNGVjOGE4Y2RhNDU1YTQ3M2NmMGQifV19LCJpYXQiOjE1ODI2OTM5OTR9.NWYV4bi4FAFS6xchooCuZ8yxcVAYeGsZ7Bx5gHnN42-uFLLdbexhYw9f6BMTzES1TAxlKokJxxrFV5mYEMaiJrxS5BbIhz_QOw3i4kNiveLEhq7ljLe-7ivosrHEKgAtWEIFLuqfMX5_f3Nojc3HoN5Ze_oP6FoV7-4Lt2-i3yeaHR_d6u1EzrUWX8TFfqUv7Yu4mSrSLgwOIeUoT8drmBmcZCHPS3RykhWgAq4SUXyXetNx-u_SbP3R8VPk3bJXtVH6q7qzA9kQu0Jy-Gl6ah2ZqH8g2QSUY9rQSa7cGSEBOgFhtjZF9TR4tJ34RYR6vELtcgyG8DGODX5VySpr4Q"},499:function(e,t){e.exports={redirect_uris:["http://localhost:3000/oauth2/redirect.html","https://trellisfw.github.io/conductor/oauth2/redirect.html"],token_endpoint_auth_method:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer",grant_types:["authorization_code"],response_types:["token","code","id_token","id_token token","code id_token","code token","code id_token token"],client_name:"Trellis - Open Source",client_uri:"https://github.com/trellisfw",contacts:["Aaron Ault <aultac@purdue.edu>"],jwks:{keys:[{kty:"RSA",n:"vww1Kr3HU950pJL8Nyxt1VY7FHe3zxzRgUkdMnt3BS6FgxypvWGoXMa9PZXPw1_xbQW5pWIUOudmJzMLFtY39kQQbIoVt1uY_ItB46gk523KAQVKbC4-TX2OnVHdI-k0cQeNfHjItsDcdN-PXJVS-70D0Ya0D3WyiTHOhsdYzWBmbaEpl5DnDkcGBn08EpLw1eYa8z9qHte4MVsMcs2iv7fx6tM2fmPe4PyYAxeRXSDS1WJrwQyK9JrG1P_AQu_LECeziJteY6EVuiW3lb5X8Y9oq3qp5exJCVYRvssQUw5N-Wv8D5Iiy7A6bL-HJP1_9by98RY8x-XbK4z_ELR3MQ",e:"AQAB",kid:"94aabb3aa1914ec8a8cda455a473cf0d"}]}}},500:function(e,t,n){var a={"./default/config.js":501,"./smithfield/config.js":502};function o(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=500},501:function(e,t){e.exports={logo:{src:"logo.png",height:60},loginBackground:"login-background.jpg"}},502:function(e,t){e.exports={logo:{src:"logo.svg",height:50},loginBackground:"login-background.jpg"}},532:function(e,t){},534:function(e,t){},567:function(e,t){},568:function(e,t){},684:function(e,t){},686:function(e,t){},694:function(e,t,n){},906:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"onInitialize",(function(){return J})),n.d(a,"state",(function(){return U})),n.d(a,"actions",(function(){return N})),n.d(a,"effects",(function(){return X}));var o={};n.r(o),n.d(o,"state",(function(){return H})),n.d(o,"actions",(function(){return z}));var r={};n.r(r),n.d(r,"state",(function(){return Q})),n.d(r,"actions",(function(){return q}));var c=n(0),i=n.n(c),s=n(60),l=n.n(s),d=n(51),u=n(194),b=n(480),f={count:0,skin:"default",skins:{}},p=n(7),g=n.n(p),h=null;function m(e){return g.a.get(e,h)}var v={oada:{url:"https://localhost",devcert:n(498),redirect:n(499).redirect_uris[1]},skin:"default",skins:{default:{},smithfield:{}}};g.a.each(v.skins,(function(e,t){v.skins[t]=n(500)("./"+t+"/config.js")}));var j=v,O=g.a.merge({},j,null),w={url:O.oada.url,token:"",data:{documents:{}}},k=n(21),A=n.n(k),y=n(38),x=n(48),I=n.n(x),R=n(278),D=n.n(R),F=n(445),C=I.a.promisify(F.browser.getAccessToken),E=function(e){return"oada:"+e+":token"},M={logout:function(e){var t=e.state,n=e.effects;return Object(y.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.oada.websocket.close();case 2:t.oada.data.documents={},delete window.localStorage[E(t.oada.url)];case 4:case"end":return e.stop()}}),e)})))()},login:function(e){var t=e.state,n=e.actions;return I.a.try((function(){return window.localStorage[E(t.oada.url)]?(console.log("Already have a token for URL "+t.oada.url+", logout to clear"),window.localStorage[E(t.oada.url)]):(console.log("Do not have an access token, redirecting..."),C(t.oada.url.replace(/^https?:\/\//,""),{metadata:O.oada.devcert,scope:"all:all",redirect:O.oada.redirect}).then((function(e){return e.access_token})).catch((function(e){return t.login.error="Failed to redirect to "+t.oada.url+" for connection",console.log("FAILED TO GET ACCESS TOKEN: err = ",e),!1})))})).then((function(e){return e&&(window.localStorage[E(t.oada.url)]=e),t.oada.token=e,console.log("Have token, connecting to oada..."),n.oada.connect()})).then((function(e){return console.log("Websocket connected, checking resources..."),n.oada.doesResourceExist("/bookmarks/trellisfw").then((function(e){if(!e)return console.log("/bookmarks/trellisfw does not exist.  Creating..."),n.oada.createAndPutResource({url:"/bookmarks/trellisfw",data:{}})})).then((function(){return n.oada.doesResourceExist("/bookmarks/trellisfw/documents").then((function(e){if(!e)return n.oada.createAndPutResource({url:"/bookmarks/trellisfw/documents",data:{},contentType:"application/vnd.trellisfw.documents.1+json"})}))}))})).then((function(){return console.log("Setting watches..."),n.oada.watch({url:"/bookmarks/trellisfw/documents",actionName:"oada.onDocumentsChange"}).then((function(){return n.oada.get("/bookmarks/trellisfw/documents").then((function(e){var t=g.a.filter(Object.keys(e.data),(function(e){return!1===g.a.startsWith(e,"_")}));return I.a.map(t,(function(e){return n.oada.loadDocument(e)}),{concurrency:5})}))}))}))},uploadFile:function(e,t){var n=e.state,a=e.actions;return D.a.request({url:"/resources",method:"post",baseURL:n.oada.url,headers:{Authorization:"Bearer "+n.oada.token,"Content-Disposition":"inline","Content-Type":t.type},data:t}).then((function(e){var n=e.headers["content-location"].split("/");return n=n[n.length-1],a.oada.put({url:"/resources/".concat(n,"/_meta"),data:{filename:t.name},headers:{"Content-Type":"application/json"}}).then((function(){return a.oada.createAndPostResource({url:"/bookmarks/trellisfw/documents",data:{pdf:{_id:"resources/"+n,_rev:0}}})}))}))},onDocumentsChange:function(e,t){var n=e.state,a=e.actions;if(console.log("onDocumentsChange",t),"merge"==g.a.get(t,"change.type")){var o=g.a.filter(Object.keys(g.a.get(t,"change.body")),(function(e){return!1===g.a.startsWith(e,"_")}));return I.a.map(o,(function(e){return a.oada.loadDocument(e)}))}if("delete"==g.a.get(t,"change.type")){var r=g.a.filter(Object.keys(g.a.get(t,"change.body")),(function(e){return!1===g.a.startsWith(e,"_")}));g.a.forEach(r,(function(e){delete n.oada.data.documents[e]}))}},loadDocument:function(e,t){var n=e.state,a=e.actions;return a.oada.get("/bookmarks/trellisfw/documents/"+t).then((function(e){var o=n.oada.data.documents[t]||{};return n.oada.data.documents[t]=g.a.merge({},o,e.data),a.oada.get("/bookmarks/trellisfw/documents/".concat(t,"/_meta")).then((function(e){if(null==e)throw Error("No data");var a=n.oada.data.documents[t]._meta;n.oada.data.documents[t]._meta=g.a.merge({},a,g.a.pick(e.data,["stats","services"]))})).catch((function(e){console.log("Error. Failed to load document _meta",t)})).then((function(){if(null!=n.oada.data.documents[t].pdf)return a.oada.get("/bookmarks/trellisfw/documents/".concat(t,"/pdf/_meta")).then((function(e){if(null==e)throw Error("No data");var a=n.oada.data.documents[t].pdf._meta||{};n.oada.data.documents[t].pdf._meta=g.a.merge({},a,g.a.pick(e.data,["filename"]))})).catch((function(e){console.log("Error. Failed to load pdf _meta",t)}))})).then((function(){if(null!=n.oada.data.documents[t].audits)return I.a.map(g.a.keys(n.oada.data.documents[t].audits),(function(e){return a.oada.get("/bookmarks/trellisfw/documents/".concat(t,"/audits/").concat(e)).then((function(a){if(null==a)throw Error("No data");var o=n.oada.data.documents[t].audits[e]||{};n.oada.data.documents[t].audits[e]=g.a.merge({},o,a.data)})).catch((function(n){console.log("Error. Failed to load audit ",e,"from doc",t)}))}))})).then((function(){if(null!=n.oada.data.documents[t].cois)return I.a.map(g.a.keys(n.oada.data.documents[t].cois),(function(e){return a.oada.get("/bookmarks/trellisfw/documents/".concat(t,"/cois/").concat(e)).then((function(a){if(null==a)throw Error("No data");var o=n.oada.data.documents[t].cois[e]||{};n.oada.data.documents[t].cois[e]=g.a.merge({},o,a.data)})).catch((function(n){console.log("Error. Failed to load coi ",e,"from doc",t)}))}))}))})).catch((function(e){console.log("Error. Failed to load document",t,e)}))},createAndPostResource:function(e,t){var n=e.actions,a=t.url,o=t.data,r=t.contentType;return n.oada.createResource({data:o,contentType:r}).then((function(e){var t=e.headers["content-location"].split("/");return t=t[t.length-1],n.oada.post({url:a,headers:{"Content-Type":r||"application/json"},data:{_id:"resources/"+t,_rev:0}}).then((function(e){var t=e.headers["content-location"].split("/");return t=t[t.length-1]}))}))},createAndPostResourceHTTP:function(e,t){var n=e.actions,a=t.url,o=t.data,r=t.contentType;return n.oada.createResourceHTTP({data:o,contentType:r}).then((function(e){var t=e.headers["content-location"].split("/");return t=t[t.length-1],n.oada.postHTTP({url:a,headers:{"Content-Type":r||"application/json"},data:{_id:"resources/"+t,_rev:0}}).then((function(e){var t=e.headers["content-location"].split("/");return t=t[t.length-1]}))}))},createAndPutResource:function(e,t){var n=e.actions,a=t.url,o=t.data,r=t.contentType;return n.oada.createResource({data:o,contentType:r}).then((function(e){var t=e.headers["content-location"].split("/");return t=t[t.length-1],n.oada.put({url:a,headers:{"Content-Type":r||"application/json"},data:{_id:"resources/"+t,_rev:0}})}))},createResource:function(e,t){var n=e.actions,a=t.data,o=t.contentType,r={};return r["content-type"]=o||"application/json",n.oada.post({url:"/resources",data:a,headers:r})},createResourceHTTP:function(e,t){var n=e.actions,a=t.data,o=t.contentType,r={};return r["content-type"]=o||"application/json",n.oada.postHTTP({url:"/resources",data:a,headers:r})},doesResourceExist:function(e,t){return e.actions.oada.head(t).then((function(e){return null!=e})).catch((function(e){if(e.response&&404===e.response.status)return!1;throw e}))},connect:function(e){var t=e.state;return e.effects.oada.websocket.connect(t.oada.url)},get:function(e,t){var n=e.effects,a=e.state;return n.oada.websocket.http({method:"GET",url:t,headers:{Authorization:"Bearer "+a.oada.token}})},head:function(e,t){var n=e.effects,a=e.state;return n.oada.websocket.http({method:"HEAD",url:t,headers:{Authorization:"Bearer "+a.oada.token}})},post:function(e,t){var n=e.effects,a=e.state,o=t.url,r=t.headers,c=t.data;return console.log("Posting to url ",o),n.oada.websocket.http({method:"POST",url:o,headers:g.a.merge({Authorization:"Bearer "+a.oada.token},r),data:c})},postHTTP:function(e,t){e.effects;var n=e.state,a=t.url,o=t.headers,r=t.data;return D.a.request({url:a,method:"post",baseURL:n.oada.url,headers:g.a.merge({Authorization:"Bearer "+n.oada.token},o),data:r})},put:function(e,t){var n=e.effects,a=e.state,o=t.url,r=t.headers,c=t.data;return n.oada.websocket.http({method:"PUT",url:o,headers:g.a.merge({Authorization:"Bearer "+a.oada.token},r),data:c})},watch:function(e,t){var n=e.effects,a=e.actions,o=e.state,r=t.url,c=t.actionName;return n.oada.websocket.watch({url:r,headers:{Authorization:"Bearer "+o.oada.token}},(function(e){g.a.get(a,c)(e)}))}},V=n(201),W=n(6),T=n(56),S=n(48),B=n(164),Y=n(271);S.config({warnings:!1});var P=null,J=function(e,t){e.state,e.actions,e.effects},U=w,N=M,X={websocket:{connect:function(e){return function(e){var t,n=[];e=e.replace("https://","wss://").replace("http://","ws://"),console.log("Creating WebSocket for",e);var a=!1,o={},r={};function c(){a&&(n.forEach((function(e){t.send(JSON.stringify(e))})),n=[])}return new S((function(n,i){console.log("Calling WebSocket(url)"),(t=new WebSocket(e)).onopen=function(e){console.log("We are connected via websocket"),a=!0,c(),n(t)},t.onclose=function(e){console.log("Websocket closed.")},t.onmessage=function(e){var t=JSON.parse(e.data);if(t.requestId)if(o[t.requestId]){if(t.status>=200&&t.status<300)o[t.requestId].resolve(t);else{var n=new Error("Request failed with status code "+t.status);n.request=o[t.requestId].request,n.response={status:t.status,statusText:t.statusText,headers:t.headers,data:t.data},n.originalStack=o[t.requestId].request.requestStack,o[t.requestId].reject(n)}delete o[t.requestId]}else if(r[t.requestId])if(r[t.requestId].resolve){if("success"===t.status)r[t.requestId].resolve(t);else{var a=new Error("Request failed with status code "+t.status);a.response=t,a.request=r[t.requestId].request,r[t.requestId].reject(a)}delete r[t.requestId].resolve,delete r[t.requestId].reject}else{if(null==r[t.requestId].callback)throw new Error("The given watch function has an undefined callback:",r[t.requestId]);r[t.requestId].callback(t)}}})).then((function(){return console.log("Returning websocket obj"),{url:e,http:function(e){return new S((function(t,a){var r=B.parse(e.url),i={requestId:Y(),method:e.method.toLowerCase(),path:r.path,data:e.data,headers:Object.entries(e.headers).map((function(e){var t=Object(T.a)(e,2),n=t[0],a=t[1];return Object(W.a)({},n.toLowerCase(),a)})).reduce((function(e,t){return Object(V.a)({},e,{},t)}))};n.push(i),o[i.requestId]={request:e,resolve:t,reject:a},c()}))},close:function(){n=[],o={},r={},t.close()},watch:function(e,t){var a=B.parse(e.url);return new S((function(o,i){var s={requestId:Y(),method:"watch",path:a.path,headers:Object.entries(e.headers).map((function(e){var t=Object(T.a)(e,2),n=t[0],a=t[1];return Object(W.a)({},n.toLowerCase(),a)})).reduce((function(e,t){return Object(V.a)({},e,{},t)}))};n.push(s),r[s.requestId]={request:e,resolve:o,reject:i,callback:t},c()}))},unwatch:function(e,t){var a=B.parse(e.url);return new S((function(o,i){var s={requestId:Y(),method:"unwatch",path:a.path,headers:Object.entries(e.headers).map((function(e){var t=Object(T.a)(e,2),n=t[0],a=t[1];return Object(W.a)({},n.toLowerCase(),a)})).reduce((function(e,t){return Object(V.a)({},e,{},t)}))};n.push(s),r[s.requestId]={request:e,resolve:o,reject:i,callback:t},c()}))}}}))}(e).then((function(e){P=e}))},watch:function(e,t){return P.watch(e,t)},http:function(e){return P.http(e).catch((function(e){e.response&&e.response.status?404==e.response.status?console.log("HTTP 404",g.a.get(e,"response.headers.content-location")):403==e.response.status?console.log("HTTP 403",g.a.get(e,"response.headers.content-location")):console.log("HTTP Error: ",e):console.log("HTTP Error",e)}))},close:function(){if(P)return console.log("Closing web socket..."),P.close();console.log("WARNING: tried to close a null websocket!")}}},Z={Pages:{selectedPage:"Data",Data:{search:"",uploading:{}}},Modals:{FileDetailsModal:{open:!1,documentKey:null,showData:!1,audit:function(e,t){var n=e.documentKey;return g.a.chain(t).get("oada.data.documents.".concat(n,".audits")).values().get(0).value()||{}},coi:function(e,t){var n=e.documentKey;return g.a.chain(t).get("oada.data.documents.".concat(n,".cois")).values().get(0).value()||{}},share:function(e,t){var n=e.documentKey;return g.a.chain(t).get("oada.data.documents.".concat(n,"._meta.services.approval.tasks")).value()||{}}},PDFViewerModal:{open:!1}}},L=n(271),G=n.n(L),H=Z,z={TopBar:{logout:function(e){e.state;var t=e.actions;t.login.logout(),t.oada.logout()}},Modals:{FileDetailsModal:{onShareChange:function(e,t){e.state,e.actions;console.log("share",t)},viewPDF:function(e,t){var n=e.state;e.actions;n.view.Modals.PDFViewerModal.headers={Authorization:"Bearer "+n.oada.token},n.view.Modals.PDFViewerModal.url="".concat(n.oada.url,"/bookmarks/trellisfw/documents/").concat(t,"/pdf"),n.view.Modals.PDFViewerModal.open=!0},toggleShowData:function(e,t){var n=e.state;n.view.Modals.FileDetailsModal.showData=!n.view.Modals.FileDetailsModal.showData},share:function(e){var t=e.state,n=e.actions,a=g.a.map(t.view.Modals.FileDetailsModal.share,(function(e,t){return t})),o=t.view.Modals.FileDetailsModal.documentKey;return I.a.map(a,(function(e){return n.oada.put({url:"/bookmarks/trellisfw/documents/".concat(o,"/_meta/services/approval/tasks/").concat(e),data:{status:"approved"},headers:{"Content-Type":"application/json"}})}),{concurrency:1})},close:function(e){var t=e.state;e.actions;t.view.Modals.FileDetailsModal.open=!1}},PDFViewerModal:{close:function(e){var t=e.state;e.actions;t.view.Modals.PDFViewerModal.open=!1}}},Pages:{Data:{Dropzone:{filesDropped:function(e,t){var n=e.state,a=e.actions;return I.a.map(t,(function(e){var t=G()();return n.view.Pages.Data.uploading[t]={filename:e.name},a.oada.uploadFile(e).then((function(){delete n.view.Pages.Data.uploading[t]}))}))}},Table:{onRowClick:function(e,t){var n=e.state,a=(e.actions,t.rowData.documentKey);null!=a&&(null!=n.oada.data.documents[a].pdf&&(n.view.Modals.FileDetailsModal.documentKey=a,n.view.Modals.FileDetailsModal.open=!0))}}}}},Q={domain:O.oada&&O.oada.url?O.oada.url:""},q={login:function(e){var t=e.state,n=e.actions;return Object(y.a)(A.a.mark((function e(){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.login.loading=!0,t.oada.url=t.login.domain.match(/^http/)?t.login.domain:"https://"+t.login.domain,e.next=4,n.oada.login();case 4:if(t.login.loading=!1,!t.oada.token){e.next=12;break}return t.login.loggedIn=!0,e.next=9,n.oada.get("/users/me");case 9:a=e.sent,t.login.name=a&&a.data&&a.data.username,window.localStorage["oada:domain"]=t.oada.url;case 12:case"end":return e.stop()}}),e)})))()},logout:function(e){var t=e.state,n=e.actions;return Object(y.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.oada.logout();case 2:t.login.loggedIn=!1;case 3:case"end":return e.stop()}}),e)})))()},domainChange:function(e,t){e.state.login.domain=t.value}},K=Object(b.a)({app:function(e){return{onInitialize:function(e,t){var n=e.state;e.actions,e.effects;console.log("Started app"),window.localStorage["oada:domain"]&&(console.log("Have saved domain in localStorage, using it"),n.login.domain=window.localStorage["oada:domain"]);var a=!1;window.localStorage.skin&&(console.log("Have saved skin in localStorage, using it"),a=window.localStorage.skin),O.skins&&O.skins[a]||(console.log("WARNING: skin in localStorage was ",a,", but that is not listed in config.skins"),a=!1),a||(a=O.skin),console.log("Using skin ",a),n.app.skins=O.skins,n.app.skin=a},state:f,actions:(t=e,h=t,{increaseCount:function(e,t){var n=e.state;console.log("test",t),m(n).count++},decreaseCount:function(e){m(e.state).count--},skinChange:function(e,t){e.state.app.skin=t,window.localStorage.skin=t}})};var t}("app"),oada:a,view:o,login:r}),_=Object(u.b)(),$=(n(694),n(3)),ee=n(918);var te=function(){var e=_(),t=e.actions,n=e.state,a=n.app.skin;return Object($.b)("div",{css:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"#fff",height:"100px",borderBottom:"1px solid #979797"}},Object($.b)("img",{css:{height:"50px",paddingLeft:"20px"},src:"skins/"+a+"/"+n.app.skins[a].logo.src,alt:"logo"}),Object($.b)("div",{css:{marginRight:50}},Object($.b)(ee.a,{text:n.login.name},Object($.b)(ee.a.Menu,null,Object($.b)(ee.a.Item,{icon:"power",text:"Logout",value:"logout",onClick:t.view.TopBar.logout})))))},ne=n(49),ae=n(458),oe=n.n(ae),re=n(459),ce=n.n(re),ie=n(460),se=n.n(ie);function le(){var e=Object(ne.a)(["\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        height: 125px;\n        width: 150px;\n        cursor: pointer;\n        border-bottom: 1px solid #979797;\n        &:hover {\n          ","\n        }\n        &.selected {\n          ","\n        }\n        & img {\n          opacity: 0.41\n        }\n        & div {\n          opacity: 0.84\n        }\n      "]);return le=function(){return e},e}var de={img:{filter:"invert(22%) sepia(76%) saturate(6476%) hue-rotate(201deg) brightness(92%) contrast(100%)",opacity:.6},div:{color:"#0066CB"}};function ue(e){return Object($.b)("div",{css:Object($.a)(le(),de,de),className:e.selected?"selected":null},Object($.b)("img",{css:{height:"41px",paddingBottom:"7px"},src:e.icon,fill:"#666"}),Object($.b)("div",null,e.children))}var be=function(){var e=_().state.view.Pages.selectedPage;return Object($.b)("div",{css:{display:"flex",flexDirection:"column",borderRight:"1px solid #979797"}},Object($.b)(ue,{selected:"Data"==e,icon:oe.a},"Data"),Object($.b)(ue,{selected:"Trading Partners"==e,icon:ce.a},"Trading Partners"),Object($.b)(ue,{selected:"Connections"==e,icon:se.a},"Sync Rules"))},fe=n(915),pe=n(907),ge=n(109);n(409);function he(){var e=Object(ne.a)(["\n      display: flex;\n      direction: row;\n      justify-content: space-between;\n      align-items: center;\n      padding-top: 15px;\n      padding-left: 20px;\n      padding-right: 20px;\n      padding-bottom: 10px;\n      & .button {\n        background-color: #fff;\n        border: 1px solid #979797;\n        border-radius: 20px;\n        font-size: 14px;\n        .plus.icon:before {\n          color: #0061C0\n        }\n      }\n    "]);return he=function(){return e},e}var me=function(){return Object($.b)("div",{css:Object($.a)(he())},Object($.b)("div",{css:{display:"flex",alignItems:"center"}},Object($.b)("div",{css:{fontSize:27,marginRight:15}},"Data"),Object($.b)(fe.a,{type:"search",id:"user-search",icon:"search",iconPosition:"left",placeholder:"Search...",style:{borderRadius:38}})),Object($.b)(pe.a,{icon:!0},Object($.b)(ge.a,{name:"plus"}),Object($.b)("span",{css:{marginLeft:7,marginRight:4,color:"#0061C0",fontWeight:100}},"Add")))},ve=(n(794),n(99)),je=n(69),Oe=n.n(je),we=n(465),ke=n.n(we);var Ae=function(e){return Object($.b)("img",{css:{height:e.height||"18px"},src:ke.a})},ye=n(466),xe=n.n(ye);var Ie=function(e){return Object($.b)("img",{css:{height:e.height||"20px"},src:xe.a})},Re=n(467),De=n.n(Re);var Fe=function(e){return Object($.b)("img",{css:{height:e.height||"18px",filter:"invert(42%) sepia(89%) saturate(4964%) hue-rotate(126deg) brightness(100%) contrast(98%)"},src:De.a})},Ce=n(468),Ee=n.n(Ce);var Me=function(e){return Object($.b)("img",{css:{height:e.height||"40px",marginTop:"3px"},src:Ee.a})},Ve=n(8),We=n.n(Ve);function Te(){var e=Object(ne.a)(["\n              & .ReactVirtualized__Table__headerRow.odd {\n                background: rgb(0,106,211);\n                background: linear-gradient(180deg, rgba(0,106,211,1) 0%, rgba(0,84,166,1) 100%);\n              }\n              & .header > span {\n                color: #fff;\n                text-transform: none;\n              }\n              & .row {\n                cursor: pointer;\n              }\n              & .odd {\n                background-color: #EFEFEF;\n              }\n              & .row:hover {\n                background-color: #9accfd;\n              }\n              & .row .signature {\n                display: flex;\n                flex: 1;\n                justify-content: flex-end;\n              }\n              & .row.unshared {\n                font-weight: bold;\n              }\n            "]);return Te=function(){return e},e}var Se=function(){var e=_(),t=e.actions,n=e.state,a=t.view.Pages.Data.Table,o=g.a.map(g.a.get(n,"oada.data.documents"),(function(e,t){var n=g.a.get(e,"_meta.services.target.tasks")||{},a={};g.a.forEach(n,(function(e){var t=g.a.get(e,"status")||{},n=g.a.find(t,{status:"identified"});return null!=n?(a.type=g.a.get(n,"type"),a.format=g.a.get(n,"format"),!1):null!=g.a.find(t,{status:"error"})?(a.type="Unknown",a.format="Unknown",!1):void 0}));var o=g.a.keys(n).length>0&&"target",r=g.a.chain(e).get("_meta.services.approval.tasks").every((function(e){return"approved"===e.status})).value(),c=g.a.chain(e).get("audits").values().get(0).get("signatures").value()||[];return 0==c.length&&(c=g.a.chain(e).get("cois").values().get(0).get("signatures").value()||[]),{documentKey:t,filename:g.a.get(e,"pdf._meta.filename")||"",type:a.type,status:null==a.type?"processing":null,format:a.format,createdAt:Oe.a.utc(g.a.get(e,"_meta.stats.created"),"X").local().format("M/DD/YYYY h:mm a"),createdAtUnix:g.a.get(e,"_meta.stats.created"),signed:c.length>0,shared:r,processingService:o}}));return o=g.a.orderBy(o,["createdAtUnix"],["desc"]),g.a.forEach(g.a.get(n,"view.Pages.Data.uploading"),(function(e){o.unshift({filename:e.filename,status:"uploading"})})),Object($.b)(ve.a,null,(function(e){var t=e.height,n=e.width;return Object($.b)(ve.c,{css:Object($.a)(Te()),headerClassName:"header",headerHeight:40,height:t,rowCount:o.length,rowGetter:function(e){var t=e.index;return o[t]},rowClassName:function(e){var t=e.index,n=null;return n=t%2===0?"row even":"row odd",o[t]&&!o[t].shared&&(n=We()(n,"unshared")),n},rowHeight:30,width:n,onRowClick:a.onRowClick},Object($.b)(ve.b,{label:"",width:40,cellRenderer:function(e){var t=e.rowData;return t&&"target"===t.processingService?Object($.b)(Me,null):""}}),Object($.b)(ve.b,{label:"Name",dataKey:"filename",width:200}),Object($.b)(ve.b,{width:200,label:"Type",dataKey:"type",cellRenderer:function(e){var t=e.rowData;return t.type?Object($.b)("div",null,t.type):"processing"==t.status?Object($.b)("div",{css:{display:"flex",alignItems:"center"}},Object($.b)(Ie,null),Object($.b)("div",{css:{marginLeft:3}},"Processing...")):"uploading"==t.status?Object($.b)("div",{css:{display:"flex",alignItems:"center"}},Object($.b)(Ae,null),Object($.b)("div",{css:{marginLeft:3}},"Uploading...")):Object($.b)("div",null,"Unknown")}}),Object($.b)(ve.b,{width:140,label:"Added",dataKey:"createdAt"}),Object($.b)(ve.b,{dataKey:"name",className:"signature",width:n-600,cellRenderer:function(e){return e.rowData.signed?Object($.b)("div",{css:{display:"flex",alignItems:"center"}},Object($.b)(Fe,null),Object($.b)("div",{css:{marginLeft:3,color:"#02A12B"}},"Signed")):null}}))}))},Be=n(482);var Ye=function(e){var t=_().actions.view.Pages.Data.Dropzone,n=Object(c.useCallback)((function(e){t.filesDropped&&t.filesDropped(e)}),[]),a=Object(Be.a)({onDrop:n,noClick:!0}),o=a.getRootProps,r=a.getInputProps;return a.isDragActive,a.open,Object($.b)("div",Object.assign({css:{flex:1,display:"flex"}},o()),e.children,Object($.b)("input",Object.assign({id:"user-search-2"},r())))};function Pe(){var e=Object(ne.a)(["\n        height: 1px;\n        background: #979797;\n        margin-left: 20px;\n        margin-right: 20px;\n      "]);return Pe=function(){return e},e}var Je=function(){return Object($.b)("div",{css:{flex:1,display:"flex",flexDirection:"column"}},Object($.b)(me,null),Object($.b)("div",{css:Object($.a)(Pe())}),Object($.b)("div",{css:{flex:1,padding:30,paddingTop:15,display:"flex"}},Object($.b)("div",{css:{border:"1px solid #979797",flex:1,display:"flex"}},Object($.b)(Ye,null,Object($.b)(Se,null)))))};var Ue=function(){return Object($.b)("div",{css:{display:"flex",flex:"1",boxShadow:"inset 5px 5px 5px #dddddd"}},Object($.b)(Je,null))},Ne=n(916),Xe=n(920);var Ze=function(e){var t=_().state.view.Modals.FileDetailsModal;return null!=t.audit&&g.a.keys(t.audit).length>0?Object($.b)(Xe.a,null,"FSQA Audit: ",g.a.get(t,"audit.organization.name")):null!=t.coi?Object($.b)(Xe.a,null,"Certificate of Insurance: ",g.a.get(t,"coi.producer.name")):Object($.b)(Xe.a,null,"Unknown File")},Le=n(277),Ge=n.n(Le),He=n(98);var ze=function(e){var t=e.audit,n=null;if(t.certificate_validity_period&&t.certificate_validity_period.start&&t.certificate_validity_period.end){(n={start:Oe()(t.certificate_validity_period.start,"M/D/YYYY"),end:Oe()(t.certificate_validity_period.end,"M/D/YYYY")}).start&&n.start.isValid()||(n=null),n.end&&n.end.isValid()||(n=null);var a=Oe()();n.expired=n.start.isAfter(a)||n.end.isBefore(a)}var o=t.organization||null,r=0,c=[{backgroundColor:"#FFFFFF"},{backgroundColor:"#EEEEEE"}],i={fontWeight:"bold",padding:"15px"},s={padding:"15px"};return Object($.b)("table",{style:{fontSize:"1.2em"}},Object($.b)("tbody",null,o?Object($.b)("tr",{style:c[(Object(He.a)("r"),r++%2)]},Object($.b)("td",{align:"right",style:i},"Organization:"),Object($.b)("td",{style:s},o)):"",t.score&&t.score.final?Object($.b)("tr",{style:c[(Object(He.a)("r"),r++%2)]},Object($.b)("td",{align:"right",style:i},"Score:"),Object($.b)("td",{style:s},t.score.final.value,"\xa0",t.score.rating?Object($.b)("span",{style:{color:t.score.rating.match(/(good|excellent)/i)?"green":"red"}},"(",t.score.rating.trim(),")"):"")):"",t.scope&&t.scope.products_observed?Object($.b)("tr",{style:c[(Object(He.a)("r"),r++%2)]},Object($.b)("td",{align:"right",style:i},"Scope (Products):"),Object($.b)("td",{style:s},g.a.map(t.scope.products_observed,(function(e,t){return Object($.b)("span",{key:"product"+t,style:{border:"solid #AAAAAA 1px",borderRadius:"3px",paddingLeft:"3px",paddingRight:"3px",marginLeft:"3px",marginRight:"3px"}},e.name)})))):"",n?Object($.b)("tr",{style:c[(Object(He.a)("r"),r++%2)]},Object($.b)("td",{align:"right",style:i},"Validity:"),Object($.b)("td",{style:s},n.expired?Object($.b)("span",{style:{color:"red"}},"EXPIRED!"):Object($.b)("span",{style:{color:"green"}},"VALID"),"\xa0(from ",n.start.format("MMM d, YYYY")," to ",n.end.format("MMM d, YYYY"),")")):""))};var Qe=function(e){var t=e.coi,n=t.holder&&t.holder.name||null,a=t.policies||null;a=a&&g.a.filter(a,(function(e){if(e.start=Oe()(e.effective_date),e.end=Oe()(e.expire_date),!e.start.isValid())return!1;if(!e.end.isValid())return!1;var t=Oe()();return e.expired=e.start.isAfter(t)||e.end.isBefore(t),!0}));var o=0,r=[{backgroundColor:"#FFFFFF"},{backgroundColor:"#EEEEEE"}],c={fontWeight:"bold",padding:"15px"},i={padding:"15px"};return Object($.b)("table",{style:{fontSize:"1.2em"}},Object($.b)("tbody",null,n?Object($.b)("tr",{style:r[(Object(He.a)("r"),o++%2)]},Object($.b)("td",{align:"right",style:c},"Holder:"),Object($.b)("td",{style:i},n)):"",a?Object($.b)("tr",{style:r[(Object(He.a)("r"),o++%2)]},Object($.b)("td",{align:"right",style:c},"Policies:"),Object($.b)("td",{style:i},Object($.b)("table",null,Object($.b)("tbody",null,g.a.map(a,(function(e,t){return Object($.b)("tr",{key:"policy"+t,style:{color:e.expired?"red":"green"}},Object($.b)("td",{align:"right"},e.number,":"),Object($.b)("td",null,e.expired?"EXPIRED!":"VALID","\xa0(from ",e.start.format("MMM d, YYYY")," to ",e.end.format("MMM d, YYYY"),")"))})))))):""))};var qe=function(e){var t=_(),n=t.actions,a=t.state,o=n.view.Modals.FileDetailsModal,r=a.view.Modals.FileDetailsModal,c=null,i="";return 0==g.a.isEmpty(r.audit)?(c=g.a.get(r,"audit"),i="audit"):0==g.a.isEmpty(r.coi)&&(c=g.a.get(r,"coi"),i="coi"),c&&((c=g.a.cloneDeep(c))._id&&delete c._id,c._rev&&delete c._rev,c._type&&delete c._type,c._meta&&delete c._meta),Object($.b)("div",null,"audit"===i?Object($.b)(ze,{audit:c}):"coi"===i?Object($.b)(Qe,{coi:c}):Object($.b)("span",null,"Unknown Document Type"),r.showData?null==c?Object($.b)("span",null,"< No Data >"):Object($.b)(Ge.a,{src:c,name:i,collapsed:1,collapseStringsAfterLength:50,displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!1}):"",Object($.b)("div",{css:{color:"#2439FF",fontSize:16,marginBottom:7,display:"flex",justifyContent:"center"}},Object($.b)("div",{css:{cursor:"pointer"},onClick:function(){return o.viewPDF(g.a.get(r,"documentKey"))}},"VIEW PDF"),"\xa0\xa0|\xa0\xa0",Object($.b)("div",{css:{cursor:"pointer"},onClick:function(){return o.toggleShowData(g.a.get(r,"documentKey"))}},"VIEW DATA")))};var Ke=function(e){var t=_(),n=t.actions,a=t.state,o=n.view.Modals.FileDetailsModal,r=a.view.Modals.FileDetailsModal,c=g.a.chain(r.share).map((function(e,t){if("approved"==e.status)return null;var n=e.type;return"fl"==n&&(n="FoodLogiQ"),"shareWf"==n&&(n="Trellis"),{key:t,text:"".concat(e.with," - ").concat(n),value:t}})).compact().value(),i=g.a.chain(r.share).map((function(e,t){if("pending"==e.status)return t})).compact().value(),s=g.a.chain(r.share).map((function(e){var t=e.type;if("fl"==t&&(t="FoodLogiQ"),"shareWf"==t&&(t="Trellis"),"approved"==e.status)return"".concat(e.with," - ").concat(t)})).compact().value();return Object($.b)("div",{css:{display:"flex",flexDirection:"column",justifyContent:"space-between"}},Object($.b)("div",{css:{fontSize:27,marginBottom:10,fontWeight:"bold"}},"Share with others:"),Object($.b)("div",{css:{display:"flex"}},Object($.b)(ee.a,{css:{marginRight:5},placeholder:"Select trading partners...",fluid:!0,multiple:!0,search:!0,selection:!0,options:c,value:i,onChange:function(e,t){o.onShareChange(t.value)}}),Object($.b)(pe.a,{icon:!0,primary:!0,labelPosition:"left",disabled:0==i.length,onClick:o.share},Object($.b)(ge.a,{name:"send"}),"Share")),s.length>0?Object($.b)("div",{css:{fontSize:15,color:"#787878",marginTop:5}},"Shared with: "+s.join(", ")):null)};var _e=function(e){var t=_(),n=t.actions,a=t.state,o=n.view.Modals.FileDetailsModal,r=a.view.Modals.FileDetailsModal;return Object($.b)(Ne.a,{open:r.open,onClose:o.close},Object($.b)(Ze,null),Object($.b)(Ne.a.Content,null,Object($.b)("div",{css:{minHeight:350,display:"flex",flexDirection:"column",justifyContent:"space-between"}},Object($.b)(qe,null),Object($.b)(Ke,null))))},$e=n(282);function et(){var e=Object(ne.a)(["\n            min-height: 350px;\n            &  .pdfPage {\n              display: flex;\n              justify-content: center;\n            }\n          "]);return et=function(){return e},e}var tt=function(e){var t=_(),n=t.actions,a=t.state,o=n.view.Modals.PDFViewerModal,r=a.view.Modals.PDFViewerModal;return Object($.b)(Ne.a,{open:r.open,onClose:o.close},Object($.b)(Ne.a.Content,null,Object($.b)("div",{css:Object($.a)(et())},Object($.b)($e.a,{file:{url:r.url,httpHeaders:r.headers},onLoadSuccess:function(e){e.numPages}},Object($.b)($e.b,{className:"pdfPage",pageNumber:1})))))},nt=n(917);function at(){var e=Object(ne.a)(["\n        position: absolute;\n        top: 5px;\n        left: 5px;\n      "]);return at=function(){return e},e}function ot(){var e=Object(ne.a)(["\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        font-size: 1.2em;\n        color: #FFFFFF;\n        cursor: pointer;\n      "]);return ot=function(){return e},e}function rt(){var e=Object(ne.a)(["\n          display: flex;\n          flex-direction: column;\n        "]);return rt=function(){return e},e}function ct(){var e=Object(ne.a)(["\n        width: 250px;\n        display: flex;\n        flex-direction: column;\n      "]);return ct=function(){return e},e}function it(){var e=Object(ne.a)(["\n      height: 100vh;\n      width: 100vw;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      background: url(skins/","/",") no-repeat center center fixed;\n      background-size: cover;\n    "]);return it=function(){return e},e}var st=function(){var e=_(),t=e.state,n=e.actions,a=t.app,o=t.login,r=n.login,c=a.skins[a.skin].loginBackground,i=a.skins[a.skin].logo;return Object($.b)("div",{css:Object($.a)(it(),a.skin,c)},Object($.b)("div",{css:Object($.a)(ct())},Object($.b)("img",{css:{height:i.height,marginBottom:25},src:"skins/".concat(a.skin,"/").concat(i.src),alt:"logo"}),Object($.b)(nt.a,{css:Object($.a)(rt()),onSubmit:r.login},Object($.b)(fe.a,{placeholder:"Trellis Domain...",value:o.domain,onChange:function(e,t){return r.domainChange(t)}}),Object($.b)(pe.a,{style:{marginTop:7},primary:!0,loading:o.loading,disabled:o.loading},"Connect to Your Trellis"))),Object($.b)("a",{css:Object($.a)(ot()),onClick:r.logout},"Logout"),Object($.b)("div",{css:Object($.a)(at())},Object($.b)(ee.a,{icon:{name:"bars",inverted:!0,size:"large"},text:""},Object($.b)(ee.a.Menu,null,g.a.map(g.a.keys(t.app.skins),(function(e){return Object($.b)(ee.a.Item,{text:e,value:e,onClick:function(){return n.app.skinChange(e)}})}))))))};var lt=function(){var e=_(),t=e.state;return e.actions,t.login.loggedIn?Object($.b)("div",{css:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"stretch"}},Object($.b)(te,null),Object($.b)("div",{css:{flex:1,display:"flex",flexDirection:"row",alignItems:"stretch"}},Object($.b)(be,null),Object($.b)(Ue,null),Object($.b)(_e,null),Object($.b)(tt,null))):Object($.b)(st,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var dt=Object(d.c)(K,{devtools:!0});l.a.render(i.a.createElement(u.a,{value:dt},i.a.createElement(lt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[493,1,2]]]);
//# sourceMappingURL=main.903079f3.chunk.js.map