{"version":3,"sources":["view/SideBar/data.svg","view/SideBar/buisness.svg","view/SideBar/connections.svg","view/Pages/Data/icons/UploadIcon/upload.svg","view/Pages/Data/icons/ProcessingIcon/processing.svg","view/Pages/Data/icons/SignedIcon/signed.svg","view/Pages/Data/icons/TargetIcon/target_logo.png","config/dev-cert/signed_software_statement.js","config/dev-cert/unsigned_software_statement.js","../public/skins sync /^/.//.*//config/.js$","../public/skins/default/config.js","../public/skins/smithfield/config.js","overmind/app/state.js","overmind/app/actions.js","config/config.js","config/index.js","overmind/oada/state.js","overmind/oada/actions.js","overmind/oada/websocket.js","overmind/oada/effects.js","overmind/oada/index.js","overmind/oada/onInitialize.js","overmind/view/state.js","overmind/view/index.js","overmind/view/actions.js","overmind/login/index.js","overmind/login/state.js","overmind/login/actions.js","overmind/index.js","overmind/app/index.js","view/TopBar/index.js","view/SideBar/index.js","view/Pages/Data/TopBar.js","view/Pages/Data/icons/UploadIcon/index.js","view/Pages/Data/icons/ProcessingIcon/index.js","view/Pages/Data/icons/SignedIcon/index.js","view/Pages/Data/icons/TargetIcon/index.js","view/Pages/Data/Table.js","view/Pages/Data/Dropzone.js","view/Pages/Data/index.js","view/Pages/index.js","view/Modals/FileDetailsModal/Header.js","view/Modals/FileDetailsModal/Audit.js","view/Modals/FileDetailsModal/CoI.js","view/Modals/FileDetailsModal/Content.js","view/Modals/FileDetailsModal/Sharing.js","view/Modals/FileDetailsModal/index.js","view/Modals/PDFViewerModal/index.js","Login/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","src","height","logo","loginBackground","count","skin","skins","namespace","moduleState","state","_","get","config","oada","url","devcert","require","redirect","redirect_uris","default","smithfield","each","v","k","merge","token","data","documents","getAccessToken","Promise","promisify","oadaIdClient","lsKey","logout","effects","websocket","close","window","localStorage","login","actions","try","console","log","replace","metadata","scope","then","res","access_token","catch","err","error","connect","result","doesResourceExist","exists","createAndPutResource","contentType","watch","actionName","response","docKeys","filter","key","startsWith","loadDocument","concurrency","uploadFile","file","request","method","baseURL","headers","Authorization","type","split","length","put","filename","name","createAndPostResource","pdf","_id","_rev","onDocumentsChange","documentId","forEach","orgData","orgMeta","_meta","pick","audits","auditKey","orgAudit","cois","coiKey","orgCoi","createResource","post","createAndPostResourceHTTP","createResourceHTTP","postHTTP","head","status","http","action","urlLib","uuid","warnings","myWebsocket","onInitialize","instance","_state","_actions","socket","messages","connected","httpCallbacks","watchCallbacks","sendMessages","message","send","JSON","stringify","reject","WebSocket","onopen","event","onclose","onmessage","parse","requestId","statusText","originalStack","requestStack","callback","urlObj","toLowerCase","path","entries","value","reduce","a","b","push","unwatch","ws","Pages","selectedPage","Data","search","uploading","Modals","FileDetailsModal","open","documentKey","showData","audit","chain","values","coi","share","PDFViewerModal","TopBar","onShareChange","viewPDF","view","toggleShowData","shareKeys","taskKey","Dropzone","filesDropped","files","Table","onRowClick","rowData","domain","loading","match","loggedIn","me","username","domainChange","namespaced","app","packagejson","version","document","title","_namespace","increaseCount","test","decreaseCount","skinChange","newSkin","createHook","overmind","css","display","flexDirection","justifyContent","alignItems","backgroundColor","borderBottom","paddingLeft","alt","marginRight","Dropdown","text","Menu","Item","icon","onClick","activeSideSelection","opacity","color","SideSection","props","className","selected","paddingBottom","fill","children","SideBar","borderRight","iconData","iconBuisness","iconConnections","fontSize","Input","iconPosition","placeholder","style","borderRadius","Button","Icon","marginLeft","fontWeight","uploadIcon","processingIcon","signedIcon","marginTop","myActions","collection","tasks","fileDetails","task","statuses","identify","find","format","processingService","shared","every","t","signatures","createdAt","moment","utc","local","createdAtUnix","signed","orderBy","unshift","width","headerClassName","headerHeight","rowCount","rowGetter","index","rowClassName","classnames","rowHeight","label","dataKey","cellRenderer","TargetIcon","ProcessingIcon","SignedIcon","onDrop","useCallback","acceptedFiles","useDropzone","noClick","getRootProps","getInputProps","isDragActive","flex","padding","paddingTop","border","boxShadow","MyHeader","myState","Header","Audit","validity","certificate_validity_period","start","end","isValid","now","expired","isAfter","isBefore","org","organization","r","rowstyles","labelstyle","contentstyle","align","score","final","rating","trim","products_observed","p","idx","paddingRight","CoI","holder","policies","effective_date","expire_date","number","Content","jsonData","jsonTitle","isEmpty","cloneDeep","_type","collapsed","collapseStringsAfterLength","displayDataTypes","displayObjectSize","enableClipboard","marginBottom","cursor","Sharing","shareOptions","compact","shareValue","approvedList","fluid","multiple","selection","options","onChange","evt","primary","labelPosition","disabled","join","Modal","onClose","minHeight","httpHeaders","onLoadSuccess","numPages","pageNumber","Login","appState","bg","Form","onSubmit","inverted","size","s","i","App","Boolean","location","hostname","createOvermind","devtools","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b4aa810b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/data.9d31a249.svg\";","module.exports = __webpack_public_path__ + \"static/media/buisness.6b54fc90.svg\";","module.exports = __webpack_public_path__ + \"static/media/connections.7c7332c0.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload.0c074248.svg\";","module.exports = __webpack_public_path__ + \"static/media/processing.a0fb5f7a.svg\";","module.exports = __webpack_public_path__ + \"static/media/signed.32666418.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRldjEiLCJqd2siOnsia3R5IjoiUlNBIiwibiI6InJyMzhpSzhGaTBfLUNSTFR2Vks0SUlDbGFyaWk2d1ZIcEU3elpQWG9FUmxfT29oNjRZbWJRY1JhNWVGdzBVUWhVdkVDaEt1OU5vM2ptN0xXOVpjTDFIS3Joa1VXLU9Rb2JPWFVuckNnb0NwYThWWWhfd1JJZFFZYnN2UFFWajVOR3V1TlhhWkJfX3B4Rnktbl9PMklNUzhPR3Jlem0zYlFIREFmLWpuZ0loWkdaZ0xhdkxKeVNIVXlEUUw0RmJRNkQzUXozQU1PcnhGdmE0S0JJUENRS0ZPbVlYVm40enRnVDY4aGd5TW9jMUt5dHhvUmd6VkhuQ2RUcFBXV1Zybk1GY0plZFlELUxtazBYbzVyallPeG1xOEExZWpmeFBNZVJfM1Y3OEFKazJMREk0dkdhSjNmbmFQWlM3Q3ZXOEYzcFdXaWpfQnlWR0NJLTVCcmtxSF9uUSIsImUiOiJBUUFCIn19.eyJyZWRpcmVjdF91cmlzIjpbImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9vYXV0aDIvcmVkaXJlY3QuaHRtbCIsImh0dHBzOi8vdHJlbGxpc2Z3LmdpdGh1Yi5pby9jb25kdWN0b3Ivb2F1dGgyL3JlZGlyZWN0Lmh0bWwiXSwidG9rZW5fZW5kcG9pbnRfYXV0aF9tZXRob2QiOiJ1cm46aWV0ZjpwYXJhbXM6b2F1dGg6Y2xpZW50LWFzc2VydGlvbi10eXBlOmp3dC1iZWFyZXIiLCJncmFudF90eXBlcyI6WyJhdXRob3JpemF0aW9uX2NvZGUiXSwicmVzcG9uc2VfdHlwZXMiOlsidG9rZW4iLCJjb2RlIiwiaWRfdG9rZW4iLCJpZF90b2tlbiB0b2tlbiIsImNvZGUgaWRfdG9rZW4iLCJjb2RlIHRva2VuIiwiY29kZSBpZF90b2tlbiB0b2tlbiJdLCJjbGllbnRfbmFtZSI6IlRyZWxsaXMgLSBPcGVuIFNvdXJjZSIsImNsaWVudF91cmkiOiJodHRwczovL2dpdGh1Yi5jb20vdHJlbGxpc2Z3IiwiY29udGFjdHMiOlsiQWFyb24gQXVsdCA8YXVsdGFjQHB1cmR1ZS5lZHU-Il0sImp3a3MiOnsia2V5cyI6W3sia3R5IjoiUlNBIiwibiI6InZ3dzFLcjNIVTk1MHBKTDhOeXh0MVZZN0ZIZTN6eHpSZ1VrZE1udDNCUzZGZ3h5cHZXR29YTWE5UFpYUHcxX3hiUVc1cFdJVU91ZG1Kek1MRnRZMzlrUVFiSW9WdDF1WV9JdEI0NmdrNTIzS0FRVktiQzQtVFgyT25WSGRJLWswY1FlTmZIakl0c0RjZE4tUFhKVlMtNzBEMFlhMEQzV3lpVEhPaHNkWXpXQm1iYUVwbDVEbkRrY0dCbjA4RXBMdzFlWWE4ejlxSHRlNE1Wc01jczJpdjdmeDZ0TTJmbVBlNFB5WUF4ZVJYU0RTMVdKcndReUs5SnJHMVBfQVF1X0xFQ2V6aUp0ZVk2RVZ1aVczbGI1WDhZOW9xM3FwNWV4SkNWWVJ2c3NRVXc1Ti1XdjhENUlpeTdBNmJMLUhKUDFfOWJ5OThSWTh4LVhiSzR6X0VMUjNNUSIsImUiOiJBUUFCIiwia2lkIjoiOTRhYWJiM2FhMTkxNGVjOGE4Y2RhNDU1YTQ3M2NmMGQifV19LCJpYXQiOjE1ODI2OTM5OTR9.NWYV4bi4FAFS6xchooCuZ8yxcVAYeGsZ7Bx5gHnN42-uFLLdbexhYw9f6BMTzES1TAxlKokJxxrFV5mYEMaiJrxS5BbIhz_QOw3i4kNiveLEhq7ljLe-7ivosrHEKgAtWEIFLuqfMX5_f3Nojc3HoN5Ze_oP6FoV7-4Lt2-i3yeaHR_d6u1EzrUWX8TFfqUv7Yu4mSrSLgwOIeUoT8drmBmcZCHPS3RykhWgAq4SUXyXetNx-u_SbP3R8VPk3bJXtVH6q7qzA9kQu0Jy-Gl6ah2ZqH8g2QSUY9rQSa7cGSEBOgFhtjZF9TR4tJ34RYR6vELtcgyG8DGODX5VySpr4Q\";","module.exports = {\n  \"redirect_uris\": [\n    \"http://localhost:3000/oauth2/redirect.html\",\n    \"https://trellisfw.github.io/conductor/oauth2/redirect.html\",\n  ],\n  \"token_endpoint_auth_method\": \"urn:ietf:params:oauth:client-assertion-type:jwt-bearer\",\n  \"grant_types\": [\n    \"authorization_code\"\n  ],\n  \"response_types\": [\n    \"token\",\n    \"code\",\n    \"id_token\",\n    \"id_token token\",\n    \"code id_token\",\n    \"code token\",\n    \"code id_token token\"\n  ],\n  \"client_name\": \"Trellis - Open Source\",\n  \"client_uri\": \"https://github.com/trellisfw\",\n  \"contacts\": [\n    \"Aaron Ault <aultac@purdue.edu>\"\n  ],\n  // THERE IS NOTHING PRIVATE ABOUT THIS DEV CERT: IT IS IN GITHUB.  OVERRIDE WITH YOUR OWN FOR PRODUCTION\n  \"jwks\": {\n    \"keys\": [\n      {\"kty\":\"RSA\",\"n\":\"vww1Kr3HU950pJL8Nyxt1VY7FHe3zxzRgUkdMnt3BS6FgxypvWGoXMa9PZXPw1_xbQW5pWIUOudmJzMLFtY39kQQbIoVt1uY_ItB46gk523KAQVKbC4-TX2OnVHdI-k0cQeNfHjItsDcdN-PXJVS-70D0Ya0D3WyiTHOhsdYzWBmbaEpl5DnDkcGBn08EpLw1eYa8z9qHte4MVsMcs2iv7fx6tM2fmPe4PyYAxeRXSDS1WJrwQyK9JrG1P_AQu_LECeziJteY6EVuiW3lb5X8Y9oq3qp5exJCVYRvssQUw5N-Wv8D5Iiy7A6bL-HJP1_9by98RY8x-XbK4z_ELR3MQ\",\"e\":\"AQAB\",\"kid\":\"94aabb3aa1914ec8a8cda455a473cf0d\"}\n    ]\n  }\n}\n","var map = {\n\t\"./default/config.js\": 501,\n\t\"./smithfield/config.js\": 502\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 500;","module.exports = {\n  \"logo\": {\n    src: \"logo.png\",\n    height: 60,\n  },\n  \"loginBackground\": \"login-background.jpg\",\n}\n","module.exports = {\n  logo: {\n    src: 'logo.svg',\n    height: 50, \n  },\n  loginBackground: 'login-background.jpg',\n};\n","export default {\n  count: 0,\n  skin: 'default',\n  skins: {\n  }\n}\n","import _ from 'lodash';\nvar namespace = null;\nfunction moduleState(state) {\n  return _.get(state, namespace);\n}\nexport default function(_namespace) {\n  namespace = _namespace;\n  return {\n    increaseCount({ state }, test) {\n      console.log('test', test)\n      moduleState(state).count++;\n    },\n    decreaseCount({ state }) {\n      moduleState(state).count--;\n    },\n    skinChange({state}, newSkin) {\n      state.app.skin = newSkin;\n      // Save this to localStorage to keep for next time:\n      window.localStorage['skin'] = newSkin;\n    }\n  }\n}\n","import _ from 'lodash';\n\nconst config = {\n  oada: {\n//    url: 'https://smithfield.trellis.one',\n    url: 'https://localhost',\n    devcert: require('./dev-cert/signed_software_statement'), // Don't use this public one in production unless implicit flow is OK for you\n    redirect: require('./dev-cert/unsigned_software_statement').redirect_uris[process.env.NODE_ENV === 'production' ? 1 : 0], // 0 is localhost:3000, 1 is trellisfw.github.io/conductor\n  },\n  skin: 'default', // which of the skins is the default one\n  skins: {\n    default: {}, // filled out from skin-specific config below\n    smithfield: {},\n  },\n};\n\n// Load the skin configs:\n_.each(config.skins, (v,k) => {\n  config.skins[k] = require('../../public/skins/'+k+'/config.js');\n});\n\nexport default config;\n","import _ from 'lodash';\nimport config from './config';\nconst configDev = (process.env.NODE_ENV == 'development') ? require('./config.dev.js').default : null;\n\nexport default _.merge({}, config, configDev);\n","import config from '../../config';\n\nexport default {\n  url: config.oada.url,\n  token: '',\n  data: {\n    documents: {}\n  }\n}\n","import _ from 'lodash';\nimport Promise from 'bluebird';\nimport request from 'axios';\nimport config from '../../config';\nimport { browser as oadaIdClient }from '@oada/oada-id-client/index.js';\n\nconst getAccessToken = Promise.promisify(oadaIdClient.getAccessToken);\n\nconst lsKey = url => 'oada:'+url+':token'; // handy function to make a useful localStorage key\n\nexport default {\n  async logout({ state, effects }) {\n    await effects.oada.websocket.close();\n    //Clear documents\n    state.oada.data.documents = {};\n    delete window.localStorage[lsKey(state.oada.url)];\n  },\n  login({ state, actions }) {\n    /*\n      Connect to my OADA instance\n    */\n    return Promise.try(() => {\n      if (window.localStorage[lsKey(state.oada.url)]) {\n        console.log('Already have a token for URL '+state.oada.url+', logout to clear');\n        return window.localStorage[lsKey(state.oada.url)];\n      }\n      // If we don't have a token stored from last time, we'll need to \n      // redirect browser to ask for one\n      console.log('Do not have an access token, redirecting...');\n      return getAccessToken(state.oada.url.replace(/^https?:\\/\\//,''), {\n        metadata: config.oada.devcert,\n        scope: 'all:all',\n        redirect: config.oada.redirect,\n      }).then(res => res.access_token)\n      .catch(err => {\n        state.login.error = 'Failed to redirect to '+state.oada.url+' for connection';\n        console.log('FAILED TO GET ACCESS TOKEN: err = ', err);\n        return false;\n      });\n\n    // Have a token now, make sure it's saved to localStorage until we logout:\n    }).then(token => {\n      if (token) window.localStorage[lsKey(state.oada.url)] = token;\n      state.oada.token = token;\n      console.log('Have token, connecting to oada...');\n      return actions.oada.connect();\n\n    }).then((result) => {\n      console.log('Websocket connected, checking resources...');\n      //Create /trellisfw if it does not exist\n      return actions.oada.doesResourceExist('/bookmarks/trellisfw').then((exists) => {\n        if (!exists) {\n          console.log('/bookmarks/trellisfw does not exist.  Creating...');\n          //Create /trellisfw\n          return actions.oada.createAndPutResource({\n            url: '/bookmarks/trellisfw',\n            data: {}\n          });\n        }\n      }).then(() => {\n        //Create /trellisfw/documents if it does not exist\n        return actions.oada.doesResourceExist('/bookmarks/trellisfw/documents').then((exists) => {\n          if (!exists) {\n            //Create documents\n            return actions.oada.createAndPutResource({\n              url: '/bookmarks/trellisfw/documents',\n              data: {},\n              contentType: 'application/vnd.trellisfw.documents.1+json'}\n            );\n          }\n        });\n      })\n    }).then(() => {\n      console.log('Setting watches...');\n      //Watch for changes to /trellisfw/documents\n      return actions.oada.watch({url: '/bookmarks/trellisfw/documents', actionName: 'oada.onDocumentsChange'}).then(() => {\n        //Get all the documents ids in /trellisfw/documents\n        return actions.oada.get('/bookmarks/trellisfw/documents').then((response) => {\n          let docKeys = _.filter(Object.keys(response.data), key=>(_.startsWith(key, '_')===false));\n          //Load each of the documents\n          return Promise.map(docKeys, (key) => {\n            //Load the documents\n            return actions.oada.loadDocument(key);\n          }, {concurrency: 5});\n        })\n      })\n    });\n  },\n\n  uploadFile({ state, actions }, file) {\n    //Add file to the file list, flag it as `uploading`\n    //Create the pdf\n    return request.request({\n      url: '/resources',\n      method: 'post',\n      baseURL: state.oada.url,\n      headers: {\n        Authorization: 'Bearer '+state.oada.token,\n        'Content-Disposition': 'inline',\n        'Content-Type': file.type\n      },\n      data: file\n    }).then((response) => {\n      //Pull out location of pdf and link it to the document under the 'pdf' key\n      var id = response.headers['content-location'].split('/')\n      id = id[id.length-1];\n      //Add filename info to the pdf\n      return actions.oada.put({\n        url: `/resources/${id}/_meta`,\n        data: {\n          filename: file.name\n        },\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      }).then(() => {\n        //Create a document with a `pdf` key linking the pdf, and link the document to `documents`\n        return actions.oada.createAndPostResource({\n          url: '/bookmarks/trellisfw/documents',\n          data: {\n            pdf: {\n              _id:'resources/'+id,\n              _rev: 0\n            }\n          }\n        })\n      })\n    });\n  },\n  onDocumentsChange({ state, actions }, response) {\n    //If a key was added or changed reload that document\n    console.log('onDocumentsChange', response);\n    //Check if change was a merge\n    if (_.get(response, 'change.type') == 'merge') {\n      //Get all the keys that do not start with _\n      let keys = _.filter(Object.keys(_.get(response, 'change.body')), key=>(_.startsWith(key, '_')===false));\n      //If these keys are links, then load them as documents\n      return Promise.map(keys, (documentId) => {\n        return actions.oada.loadDocument(documentId);\n      })\n    } else if (_.get(response, 'change.type') == 'delete') {\n      //Get all the keys that do not start with _\n      let keys = _.filter(Object.keys(_.get(response, 'change.body')), key=>(_.startsWith(key, '_')===false));\n      //If these keys are links, then load them as documents\n      _.forEach(keys, (key) => {\n        delete state.oada.data.documents[key]\n      })\n    }\n  },\n  loadDocument({ state, actions }, documentId) {\n    return actions.oada.get('/bookmarks/trellisfw/documents/'+documentId).then((response) => {\n      //If doc already exists merge in data\n      const orgData = state.oada.data.documents[documentId] || {};\n      state.oada.data.documents[documentId] = _.merge({}, orgData, response.data);\n      //Load the _meta for this document\n      return actions.oada.get(`/bookmarks/trellisfw/documents/${documentId}/_meta`).then((response) => {\n        if (response == null) throw Error('No data');\n        const orgMeta = state.oada.data.documents[documentId]._meta;\n        //Merge in status and services\n        state.oada.data.documents[documentId]._meta = _.merge({}, orgMeta, _.pick(response.data, ['stats', 'services']));\n      }).catch((err) => {\n        console.log('Error. Failed to load document _meta', documentId);\n      }).then(() => {\n        //Load the meta for the pdf of this doc\n        if (state.oada.data.documents[documentId].pdf != null) {\n          return actions.oada.get(`/bookmarks/trellisfw/documents/${documentId}/pdf/_meta`).then((response) => {\n            if (response == null) throw Error('No data');\n            const orgMeta = state.oada.data.documents[documentId].pdf._meta || {};\n            state.oada.data.documents[documentId].pdf._meta = _.merge({}, orgMeta, _.pick(response.data, ['filename']));\n          }).catch((err) => {\n            console.log('Error. Failed to load pdf _meta', documentId);\n          })\n        }\n      }).then(() => {\n        //Load the audit info for this document if it exists\n        if (state.oada.data.documents[documentId].audits != null) {\n          return Promise.map(_.keys(state.oada.data.documents[documentId].audits), (auditKey) => {\n            return actions.oada.get(`/bookmarks/trellisfw/documents/${documentId}/audits/${auditKey}`).then((response) => {\n              if (response == null) throw Error('No data');\n              const orgAudit = state.oada.data.documents[documentId].audits[auditKey] || {};\n              state.oada.data.documents[documentId].audits[auditKey] = _.merge({}, orgAudit, response.data);\n            }).catch((err) => {\n              console.log('Error. Failed to load audit ', auditKey, 'from doc', documentId);\n            })\n          });\n        }\n      }).then(() => {\n        //Load the cois info for this document if it exists\n        if (state.oada.data.documents[documentId].cois != null) {\n          return Promise.map(_.keys(state.oada.data.documents[documentId].cois), (coiKey) => {\n            return actions.oada.get(`/bookmarks/trellisfw/documents/${documentId}/cois/${coiKey}`).then((response) => {\n              if (response == null) throw Error('No data');\n              const orgCoi = state.oada.data.documents[documentId].cois[coiKey] || {};\n              state.oada.data.documents[documentId].cois[coiKey] = _.merge({}, orgCoi, response.data);\n            }).catch((err) => {\n              console.log('Error. Failed to load coi ', coiKey, 'from doc', documentId);\n            })\n          });\n        }\n      })\n    }).catch((err) => {\n      console.log('Error. Failed to load document', documentId, err);\n    });\n  },\n  createAndPostResource({ actions }, {url, data, contentType}) {\n    return actions.oada.createResource({data, contentType}).then((response) => {\n      //Link this new resource at the url provided\n      var id = response.headers['content-location'].split('/')\n      id = id[id.length-1]\n      return actions.oada.post({\n        url: url,\n        headers: {\n          'Content-Type': contentType || 'application/json'\n        },\n        data: {\n          _id:'resources/'+id,\n          _rev: 0\n        }\n      }).then((response) => {\n        var id = response.headers['content-location'].split('/')\n        id = id[id.length-1]\n        return id;\n      })\n    })\n  },\n  createAndPostResourceHTTP({ actions }, {url, data, contentType}) {\n    return actions.oada.createResourceHTTP({data, contentType}).then((response) => {\n      //Link this new resource at the url provided\n      var id = response.headers['content-location'].split('/')\n      id = id[id.length-1]\n      return actions.oada.postHTTP({\n        url: url,\n        headers: {\n          'Content-Type': contentType || 'application/json'\n        },\n        data: {\n          _id:'resources/'+id,\n          _rev: 0\n        }\n      }).then((response) => {\n        var id = response.headers['content-location'].split('/')\n        id = id[id.length-1]\n        return id;\n      })\n    })\n  },\n  createAndPutResource({ actions }, {url, data, contentType}) {\n    return actions.oada.createResource({data, contentType}).then((response) => {\n      //Link this new resource at the url provided\n      var id = response.headers['content-location'].split('/')\n      id = id[id.length-1]\n      return actions.oada.put({\n        url,\n        headers: {\n          'Content-Type': contentType || 'application/json'\n        },\n        data: {\n          _id:'resources/'+id,\n          _rev: 0\n        }\n      });\n    })\n  },\n  createResource({ actions }, {data, contentType}) {\n    var headers = {};\n    headers['content-type'] = contentType || 'application/json';\n    return actions.oada.post({url: '/resources', data, headers})\n  },\n  createResourceHTTP({ actions }, {data, contentType}) {\n    var headers = {};\n    headers['content-type'] = contentType || 'application/json';\n    return actions.oada.postHTTP({url: '/resources', data, headers})\n  },\n  doesResourceExist({ actions }, url) {\n    return actions.oada.head(url).then((response) => {\n      if (response != null) return true;\n      return false;\n    }).catch((error) => {\n      if (error.response && error.response.status === 404) return false;\n      throw error;\n    })\n  },\n  connect({ state, effects }) {\n    return effects.oada.websocket.connect(state.oada.url)\n  },\n  get({ effects, state }, url) {\n    return effects.oada.websocket.http({\n      method: 'GET',\n      url: url,\n      headers: {\n        Authorization: 'Bearer '+state.oada.token\n      }\n    })\n  },\n  head({ effects, state }, url) {\n    return effects.oada.websocket.http({\n      method: 'HEAD',\n      url: url,\n      headers: {\n        Authorization: 'Bearer '+state.oada.token\n      }\n    });\n  },\n  post({ effects, state }, {url, headers, data}) {\n    console.log('Posting to url ', url);\n    return effects.oada.websocket.http({\n      method: 'POST',\n      url: url,\n      headers: _.merge({\n        Authorization: 'Bearer '+state.oada.token\n      }, headers),\n      data: data\n    })\n  },\n  postHTTP({ effects, state }, {url, headers, data}) {\n    return request.request({\n      url: url,\n      method: 'post',\n      baseURL: state.oada.url,\n      headers: _.merge({\n        Authorization: 'Bearer '+state.oada.token\n      }, headers),\n      data: data\n    })\n  },\n  put({ effects, state }, {url, headers, data}) {\n    return effects.oada.websocket.http({\n      method: 'PUT',\n      url: url,\n      headers: _.merge({\n        Authorization: 'Bearer '+state.oada.token\n      }, headers),\n      data: data\n    })\n  },\n  watch({ effects, actions, state }, {url, actionName}) {\n    var cb = function callback(data) {\n      var action = _.get(actions, actionName);\n      action(data);\n    }\n    return effects.oada.websocket.watch({\n      url,\n      headers: {Authorization: 'Bearer '+state.oada.token}\n    },\n    cb);\n  }\n}\n","const Promise = require('bluebird');\nconst urlLib = require('url');\nconst uuid = require('uuid/v4');\nPromise.config({warnings: false})\n\nexport default function websocket(url) {\n\t//Create the message queue\n\tvar messages = [];\n\t//Create the socket\n\turl = url.replace('https://', 'wss://').replace('http://', 'ws://');\n\tconsole.log('Creating WebSocket for', url);\n\tvar socket;\n\tvar connected = false;\n\tvar httpCallbacks = {};\n\tvar watchCallbacks = {};\n\n\tfunction sendMessages() {\n\t\tif (!connected) return;\n\t\tmessages.forEach((message) => {\n      socket.send(JSON.stringify(message));\n\t\t});\n\t\tmessages = [];\n\t}\n\treturn new Promise((resolve, reject) => {\n    console.log('Calling WebSocket(url)');\n    socket = new WebSocket(url);\n    socket.onopen = function(event) {\n\t\t\tconsole.log('We are connected via websocket')\n\t\t\tconnected = true;\n\t\t\tsendMessages();\n\t\t\tresolve(socket)\n\t\t}\n\t\tsocket.onclose = function(event) {\n      console.log('Websocket closed.');\n\t\t}\n    socket.onmessage = function(event) {\n      var response = JSON.parse(event.data);\n\t\t\t//Look for id in httpCallbacks\n\t\t\tif (response.requestId) {\n\t\t\t\tif (httpCallbacks[response.requestId]) {\n          //Resolve Promise\n\t\t\t\t\tif (response.status >= 200 && response.status < 300) {\n\t\t\t\t\t\thttpCallbacks[response.requestId].resolve(response);\n\t\t\t\t\t} else {\n            //Create error like axios\n\t\t\t\t\t\tlet err = new Error('Request failed with status code '+response.status);\n            err.request = httpCallbacks[response.requestId].request;\n\t\t\t\t\t\terr.response = {\n\t\t\t\t\t\t\tstatus: response.status,\n\t\t\t\t\t\t\tstatusText: response.statusText,\n\t\t\t\t\t\t\theaders: response.headers,\n\t\t\t\t\t\t\tdata: response.data\n            };\n            err.originalStack = httpCallbacks[response.requestId].request.requestStack;\n\t\t\t\t\t\thttpCallbacks[response.requestId].reject(err);\n\t\t\t\t\t}\n\t\t\t\t\tdelete httpCallbacks[response.requestId];\n        } else if (watchCallbacks[response.requestId]) {\n\t\t\t\t\tif (watchCallbacks[response.requestId].resolve) {\n\t\t\t\t\t\tif (response.status === 'success') {\n\t\t\t\t\t\t\t//Successfully setup websocket, resolve promise\n\t\t\t\t\t\t\twatchCallbacks[response.requestId].resolve(response);\n            } else {\n              //error(watchCallbacks[response.requestId].request, response);\n\t\t\t\t\t\t\tlet err = new Error('Request failed with status code '+response.status);\n\t\t\t\t\t\t\terr.response = response;\n              err.request = watchCallbacks[response.requestId].request;\n\t\t\t\t\t\t\twatchCallbacks[response.requestId].reject(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//Remove resolve and reject so we process change as a signal next time\n\t\t\t\t\t\tdelete watchCallbacks[response.requestId]['resolve'];\n\t\t\t\t\t\tdelete watchCallbacks[response.requestId]['reject'];\n          } else {\n            if (watchCallbacks[response.requestId].callback == null) throw new Error('The given watch function has an undefined callback:', watchCallbacks[response.requestId]);\n\t\t\t\t\t\twatchCallbacks[response.requestId].callback(response);\n\t\t\t\t\t}\n        }\n\t\t\t}\n\t\t}\n\t}).then(() => {\n\t\tconsole.log('Returning websocket obj')\n    function _http(request) {\n\t\t\t//Do a HTTP request\n      return new Promise((resolve, reject) => {\n        let urlObj = urlLib.parse(request.url);\n\t\t\t\tlet message = {\n\t\t\t\t\trequestId: uuid(),\n\t\t\t\t\tmethod: request.method.toLowerCase(),\n\t\t\t\t\tpath: urlObj.path,\n\t\t\t\t\tdata: request.data,\n\t\t\t\t\theaders: Object.entries(request.headers).map(([key, value]) => {\n\t\t\t\t\t\treturn {[key.toLowerCase()]: value}\n\t\t\t\t\t}).reduce((a,b) => {\n\t\t\t\t\t\treturn {...a, ...b}\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tmessages.push(message);\n\t\t\t\thttpCallbacks[message.requestId] = {\n\t\t\t\t\trequest: request,\n\t\t\t\t\tresolve: resolve,\n\t\t\t\t\treject: reject,\n        };\n\t\t\t\tsendMessages();\n\t\t\t});\n    }\n\n    function _unwatch(request, callback) {\n\t\t\t//Unwatch for changes on requested resource and trigger provided signal\n\t\t\tlet urlObj = urlLib.parse(request.url);\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet message = {\n\t\t\t\t\trequestId: uuid(),\n\t\t\t\t\tmethod: 'unwatch',\n\t\t\t\t\tpath: urlObj.path,\n\t\t\t\t\theaders: Object.entries(request.headers).map(([key, value]) => {\n\t\t\t\t\t\treturn {[key.toLowerCase()]: value}\n\t\t\t\t\t}).reduce((a,b) => {\n\t\t\t\t\t\treturn {...a, ...b}\n\t\t\t\t\t})\n\t\t\t\t};\n        messages.push(message);\n        watchCallbacks[message.requestId] = {request, resolve, reject, callback};\n\t\t\t\tsendMessages();\n\t\t\t});\n\t\t}\n\n    function _watch(request, callback) {\n\t\t\t//Watch for changes on requested resource and trigger provided signal\n\t\t\tlet urlObj = urlLib.parse(request.url);\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet message = {\n\t\t\t\t\trequestId: uuid(),\n\t\t\t\t\tmethod: 'watch',\n\t\t\t\t\tpath: urlObj.path,\n\t\t\t\t\theaders: Object.entries(request.headers).map(([key, value]) => {\n\t\t\t\t\t\treturn {[key.toLowerCase()]: value}\n\t\t\t\t\t}).reduce((a,b) => {\n\t\t\t\t\t\treturn {...a, ...b}\n\t\t\t\t\t})\n\t\t\t\t};\n        messages.push(message);\n\t\t\t\twatchCallbacks[message.requestId] = {request, resolve, reject, callback};\n\t\t\t\tsendMessages();\n\t\t\t});\n\t\t}\n\n\t\tfunction _close() {\n\t\t\t//TODO reject all callbacks that have not resolved\n\t\t\t//Clear everything\n\t\t\tmessages = [];\n\t\t\thttpCallbacks = {};\n\t\t\twatchCallbacks = {};\n\t\t\t//Close socket\n\t\t\tsocket.close();\n\t\t}\n\n\t\treturn {\n\t\t\turl,\n\t\t\thttp: _http,\n\t\t\tclose: _close,\n\t\t\twatch: _watch,\n\t\t\tunwatch: _unwatch,\n\t\t}\n\t})\n}\n","import websocket from './websocket';\nimport _ from 'lodash'\nvar myWebsocket = null;\n\nexport default {\n  websocket: {\n    connect(url) {\n      //Connect to OADA with this url\n      return websocket(url).then((ws) => {\n        myWebsocket = ws;\n      })\n    },\n    watch(request, callback) {\n      return myWebsocket.watch(request, callback)\n    },\n    http(request) {\n      return myWebsocket.http(request).catch((err) => {\n        if (err.response && err.response.status) {\n          if (err.response.status == 404) {\n            console.log(\"HTTP 404\", _.get(err, 'response.headers.content-location'));\n          } else if (err.response.status == 403) {\n            console.log(\"HTTP 403\", _.get(err, 'response.headers.content-location'));\n          } else {\n            console.log('HTTP Error: ', err);\n          }\n        } else {\n          console.log('HTTP Error', err)\n        }\n      });\n    },\n    close() {\n      if (myWebsocket) { \n        console.log('Closing web socket...');\n        return myWebsocket.close();\n      }\n      console.log('WARNING: tried to close a null websocket!');\n    }\n  }\n}\n","import _state from './state'\nimport _actions from './actions'\nimport _onInitialize from './onInitialize'\nimport _effects from './effects'\n\nexport const onInitialize = _onInitialize;\nexport const state = _state;\nexport const actions = _actions;\nexport const effects = _effects;\n","import _ from 'lodash';\nimport Promise from 'bluebird';\n\nexport default function ({ state, actions, effects }, instance) {\n  \n}\n","import _ from 'lodash';\n\nexport default {\n  Pages: {\n    selectedPage: 'Data',\n    Data: {\n      search: '',\n      uploading: {}\n    }\n  },\n  Modals: {\n    FileDetailsModal: {\n      open: false,\n      documentKey: null,\n      showData: false,\n      audit: ({documentKey}, state) => {\n        //Get the audit from the doc\n        return  _.chain(state).get(`oada.data.documents.${documentKey}.audits`).values().get(0).value() || {};\n      },\n      coi: ({documentKey}, state) => {\n        //Get the cois from the doc\n        return  _.chain(state).get(`oada.data.documents.${documentKey}.cois`).values().get(0).value() || {};\n      },\n      share: ({documentKey}, state) => {\n        return  _.chain(state).get(`oada.data.documents.${documentKey}._meta.services.approval.tasks`).value() || {};\n      }\n    },\n    PDFViewerModal: {\n      open: false\n    }\n  }\n}\n","import _state from './state'\nimport _actions from './actions'\n\n\nexport const state = _state;\nexport const actions = _actions;\n","import _ from 'lodash';\nimport uuid from 'uuid/v4';\nimport Promise from 'bluebird';\nexport default {\n  TopBar: {\n    logout({state, actions}) {\n      actions.login.logout()\n      actions.oada.logout();\n    }\n  },\n  Modals: {\n    FileDetailsModal: {\n      onShareChange({state, actions}, data) {\n        console.log('share', data)\n      },\n      viewPDF({ state, actions }, documentKey) {\n        state.view.Modals.PDFViewerModal.headers = {Authorization: 'Bearer '+state.oada.token}\n        state.view.Modals.PDFViewerModal.url = `${state.oada.url}/bookmarks/trellisfw/documents/${documentKey}/pdf`\n        state.view.Modals.PDFViewerModal.open = true;\n      },\n      toggleShowData({ state }, documentKey) {\n        state.view.Modals.FileDetailsModal.showData = !state.view.Modals.FileDetailsModal.showData;\n      },\n      share({ state, actions }) {\n        //Share to all the share options\n        const shareKeys = _.map(state.view.Modals.FileDetailsModal.share, (share, key) => {\n          return key;\n        });\n        const documentKey = state.view.Modals.FileDetailsModal.documentKey;\n        return Promise.map(shareKeys, (taskKey) => {\n          return actions.oada.put({\n            url: `/bookmarks/trellisfw/documents/${documentKey}/_meta/services/approval/tasks/${taskKey}`,\n            data: {status: \"approved\"},\n            headers: {\n              'Content-Type': 'application/json',\n            }\n          });\n        }, {concurrency: 1})\n      },\n      close({state, actions}) {\n        //Close my window\n        state.view.Modals.FileDetailsModal.open = false;\n      }\n    },\n    PDFViewerModal: {\n      close({state, actions}) {\n        //Close my window\n        state.view.Modals.PDFViewerModal.open = false;\n      }\n    }\n  },\n  Pages: {\n    Data: {\n      Dropzone: {\n        filesDropped({ state, actions }, files) {\n            //Start uploading the files\n            return Promise.map(files, (file) => {\n              //Add an `uploading` file\n              const id = uuid();\n              state.view.Pages.Data.uploading[id] = {\n                filename: file.name\n              };\n              return actions.oada.uploadFile(file).then(() => {\n                delete state.view.Pages.Data.uploading[id];\n              })\n            })\n        }\n      },\n      Table: {\n        onRowClick({ state, actions }, {rowData}) {\n          const documentKey = rowData.documentKey;\n          if (documentKey == null) return; //Uploading doc\n          const doc = state.oada.data.documents[documentKey];\n          if (doc.pdf != null) {\n            //Set view data for audit modal\n            state.view.Modals.FileDetailsModal.documentKey = documentKey;\n            state.view.Modals.FileDetailsModal.open = true;\n          }\n        }\n      }\n    }\n  }\n}\n","import _state from './state'\nimport _actions from './actions'\n\n\nexport const state = _state;\nexport const actions = _actions;\n","import config from '../../config'\nexport default {\n  domain: config.oada && config.oada.url ? config.oada.url : '',\n}\n","export default {\n  async login({ state, actions }) {\n    state.login.loading = true;\n    state.oada.url = state.login.domain.match(/^http/) ? state.login.domain : 'https://'+state.login.domain;\n    await actions.oada.login();\n    state.login.loading = false;\n    if (state.oada.token) {\n      state.login.loggedIn = true;\n      const me = await actions.oada.get('/users/me');\n      state.login.name = me && me.data && me.data.username;\n      // Keep track of the last-used domain URL so refresh doesn't set it back to localhost all the time:\n      window.localStorage['oada:domain'] = state.oada.url;\n    }\n  },\n  async logout({ state, actions }) {\n    await actions.oada.logout();\n    state.login.loggedIn = false;\n  },\n  domainChange({ state }, data) {\n    state.login.domain = data.value;\n  }\n}\n","import { createHook } from \"overmind-react\"\n\nimport { namespaced } from 'overmind/config'\n\nimport app from './app'\nimport * as oada from './oada'\nimport * as view from './view'\nimport * as login from './login'\n\nexport const config = namespaced({\n  app: app('app'),\n  oada,\n  view,\n  login\n})\n\n\nexport default createHook()\n","import state from './state'\nimport actions from './actions'\nimport config from '../../config'\nimport _ from 'lodash'\nimport packagejson from '../../../package.json';\n\nexport default function (namespace) {\n  return {\n    onInitialize({ state, actions, effects }, instance) {\n      console.log('Started app')\n\n\n      // Add the package.json version to the title\n      if (packagejson && packagejson.version) {\n        document.title = document.title + ' - v'+packagejson.version;\n      }\n\n      // Populate domain from localStorage if there is a saved one:\n      if (window.localStorage['oada:domain']) {\n        console.log('Have saved domain in localStorage, using it');\n        state.login.domain = window.localStorage['oada:domain'];\n      }\n\n      let skin = false;\n      // Populate skin from localStorage if there is a saved one:\n      if (window.localStorage['skin']) {\n        console.log('Have saved skin in localStorage, using it');;\n        skin = window.localStorage['skin'];\n      }\n      if (!config.skins || !config.skins[skin]) {\n        console.log('WARNING: skin in localStorage was ',skin,', but that is not listed in config.skins');\n        skin = false;\n      }\n      if (!skin) skin = config.skin;\n      console.log('Using skin ', skin);\n      // Also push skin options to state:\n      state.app.skins = config.skins;\n      // And select one\n      state.app.skin = skin;\n    },\n    state,\n    actions: actions(namespace)\n  }\n}\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx } from '@emotion/core'\n\nimport { Button, Dropdown } from 'semantic-ui-react'\nimport overmind from '../../overmind'\nimport config from '../../config';\n\n\nfunction TopBar() {\n  const { actions, state } = overmind();\n  const skin = state.app.skin;\n  return (\n    <div css={{\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      backgroundColor: '#fff',\n      height: '100px',\n      borderBottom: '1px solid #979797'\n    }}>\n      <img css={{\n        height: '50px',\n        paddingLeft: '20px'\n      }} src={'skins/'+skin+'/'+state.app.skins[skin].logo.src} alt=\"logo\" />\n      <div css={{marginRight: 50}}>\n          <Dropdown text={state.login.name}>\n            <Dropdown.Menu>\n              <Dropdown.Item icon='power' text='Logout' value='logout' onClick={actions.view.TopBar.logout} />\n            </Dropdown.Menu>\n          </Dropdown>\n      </div>\n    </div>\n  );\n}\n\nexport default TopBar;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport iconData from './data.svg';\nimport iconBuisness from './buisness.svg';\nimport iconConnections from './connections.svg';\nimport overmind from '../../overmind'\n\nconst activeSideSelection = {\n  'img': {\n    filter: 'invert(22%) sepia(76%) saturate(6476%) hue-rotate(201deg) brightness(92%) contrast(100%)',\n    opacity: 0.6\n  },\n  'div': {\n    color: '#0066CB'\n  }\n}\n\nfunction SideSection(props) {\n  return (\n    <div\n      css={css`\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        height: 125px;\n        width: 150px;\n        cursor: pointer;\n        border-bottom: 1px solid #979797;\n        &:hover {\n          ${activeSideSelection}\n        }\n        &.selected {\n          ${activeSideSelection}\n        }\n        & img {\n          opacity: 0.41\n        }\n        & div {\n          opacity: 0.84\n        }\n      `}\n      className={props.selected ? 'selected' : null}\n      >\n      <img\n        css={{\n          height: '41px', paddingBottom: '7px'\n        }}\n        src={props.icon}\n        fill={'#666'}\n      />\n      <div>{props.children}</div>\n    </div>\n  );\n}\n\nfunction SideBar() {\n  const { state } = overmind();\n  const selectedPage = state.view.Pages.selectedPage;\n  return (\n    <div css={{\n      display: 'flex',\n      flexDirection: 'column',\n      borderRight: '1px solid #979797'\n    }}>\n      <SideSection selected={(selectedPage == 'Data')} icon={iconData}>{'Data'}</SideSection>\n      <SideSection selected={(selectedPage == 'Trading Partners')} icon={iconBuisness}>{'Trading Partners'}</SideSection>\n      <SideSection selected={(selectedPage == 'Connections')} icon={iconConnections}>{'Sync Rules'}</SideSection>\n    </div>\n  );\n}\n\nexport default SideBar;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Input, Button, Icon  } from 'semantic-ui-react'\n\nimport 'semantic-ui-css/semantic.min.css'\n\nfunction TopBar() {\n  return (\n    <div css={css`\n      display: flex;\n      direction: row;\n      justify-content: space-between;\n      align-items: center;\n      padding-top: 15px;\n      padding-left: 20px;\n      padding-right: 20px;\n      padding-bottom: 10px;\n      & .button {\n        background-color: #fff;\n        border: 1px solid #979797;\n        border-radius: 20px;\n        font-size: 14px;\n        .plus.icon:before {\n          color: #0061C0\n        }\n      }\n    `}>\n      <div css={{display: 'flex', alignItems: 'center'}}>\n        <div css={{fontSize: 27, marginRight: 15}}>{'Data'}</div>\n        <Input type=\"search\" id=\"user-search\" icon='search' iconPosition='left'  placeholder='Search...' style={{borderRadius: 38}} />\n      </div>\n      <Button icon>\n        <Icon  name='plus' />\n        <span css={{marginLeft: 7, marginRight: 4, color: '#0061C0', fontWeight: 100}}>Add</span>\n      </Button>\n    </div>\n  );\n}\n\nexport default TopBar;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport icon from './upload.svg';\n\nfunction uploadIcon(props) {\n  return (\n    <img\n      css={{\n        height: (props.height || '18px')\n      }}\n      src={icon} />\n  );\n}\n\nexport default uploadIcon;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport icon from './processing.svg';\n\nfunction processingIcon(props) {\n  return (\n    <img\n      css={{\n        height: (props.height || '20px')\n      }}\n      src={icon} />\n  );\n}\n\nexport default processingIcon;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport icon from './signed.svg';\n\nfunction signedIcon(props) {\n  return (\n    <img\n      css={{\n        height: (props.height || '18px'),\n        filter: 'invert(42%) sepia(89%) saturate(4964%) hue-rotate(126deg) brightness(100%) contrast(98%)'\n      }}\n      src={icon} />\n  );\n}\n\nexport default signedIcon;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport icon from './target_logo.png';\n\nfunction processingIcon(props) {\n  return (\n    <img\n      css={{\n        height: (props.height || '40px'),\n        marginTop: '3px',\n      }}\n      src={icon} />\n  );\n}\n\nexport default processingIcon;\n","\n\nimport React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport 'react-virtualized/styles.css';\nimport {Column, Table as RTable, AutoSizer} from 'react-virtualized';\nimport overmind from '../../../overmind'\nimport _ from 'lodash';\nimport moment from 'moment';\nimport UploadingIcon from './icons/UploadIcon';\nimport ProcessingIcon from './icons/ProcessingIcon';\nimport SignedIcon from './icons/SignedIcon';\nimport TargetIcon from './icons/TargetIcon';\nimport classnames from 'classnames';\n\nfunction Table() {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Pages.Data.Table;\n  var collection = _.map(_.get(state, 'oada.data.documents'), (document, documentKey) => {\n    //Pull out status from services\n    const tasks = _.get(document, '_meta.services.target.tasks') || {};\n    const fileDetails = {};\n    _.forEach(tasks, (task) => {\n      const statuses = _.get(task, 'status') || {};\n      const identify = _.find(statuses, {status: 'identified'});\n      if (identify != null) {\n        fileDetails.type = _.get(identify, 'type')\n        fileDetails.format = _.get(identify, 'format')\n        return false;\n      } else {\n        const failed = _.find(statuses, {status: 'error'});\n        if (failed != null) {\n          fileDetails.type = 'Unknown'\n          fileDetails.format = 'Unknown'\n          return false;\n        }\n      }\n    })\n    // Check if Target service exists and is handling this document:\n    const processingService = (_.keys(tasks).length > 0) ? 'target' : false;\n\n    //Pull out share status\n    // Aaron changed this to stay bold unless ALL share tasks are approved.\n    const shared = (_.chain(document).get('_meta.services.approval.tasks').every(t => t.status === 'approved')).value();\n\n    //Pull out signature from audit\n    var signatures = _.chain(document).get('audits').values().get(0).get('signatures').value() || [];\n    if (signatures.length == 0) signatures = _.chain(document).get('cois').values().get(0).get('signatures').value() || [];\n    return {\n      documentKey: documentKey,\n      filename: _.get(document, 'pdf._meta.filename') || '',\n      type: fileDetails.type,\n      status: fileDetails.type == null ? 'processing' : null,\n      format: fileDetails.format,\n      createdAt: moment.utc(_.get(document, '_meta.stats.created'), 'X').local().format('M/DD/YYYY h:mm a'),\n      createdAtUnix: _.get(document, '_meta.stats.created'),\n      signed: (signatures.length > 0) ? true : false,\n      shared: shared,\n      processingService,\n    }\n  })\n  //Sort collection\n  collection = _.orderBy(collection, ['createdAtUnix'], ['desc']);\n  _.forEach(_.get(state, 'view.Pages.Data.uploading'), (file) => {\n    collection.unshift({\n      filename: file.filename,\n      status: 'uploading'\n    })\n  });\n  return (\n      <AutoSizer>\n        {({ height, width }) => (\n          <RTable\n            css={css`\n              & .ReactVirtualized__Table__headerRow.odd {\n                background: rgb(0,106,211);\n                background: linear-gradient(180deg, rgba(0,106,211,1) 0%, rgba(0,84,166,1) 100%);\n              }\n              & .header > span {\n                color: #fff;\n                text-transform: none;\n              }\n              & .row {\n                cursor: pointer;\n              }\n              & .odd {\n                background-color: #EFEFEF;\n              }\n              & .row:hover {\n                background-color: #9accfd;\n              }\n              & .row .signature {\n                display: flex;\n                flex: 1;\n                justify-content: flex-end;\n              }\n              & .row.unshared {\n                font-weight: bold;\n              }\n            `}\n            headerClassName={'header'}\n            headerHeight={40}\n            height={height}\n            rowCount={collection.length}\n            rowGetter={({ index }) => collection[index]}\n            rowClassName={({ index }) => {\n              var className = null;\n              if (index % 2 === 0) {\n                className = \"row even\"\n              } else {\n                className = \"row odd\"\n              };\n              if (collection[index] && !collection[index].shared) className = classnames(className, 'unshared')\n              return className;\n            }}\n            rowHeight={30}\n            width={width}\n            onRowClick={myActions.onRowClick}>\n            <Column label='' dataKey='processingService' width={40} cellRenderer={({rowData}) => \n              (!rowData || rowData.processingService !== 'target') ? '' :\n              <TargetIcon />\n            }/>\n              \n            <Column label=\"Name\" dataKey=\"filename\" width={200} />\n            <Column width={200} label=\"Type\" dataKey=\"type\" cellRenderer={({rowData}) => {\n              if (rowData.type) {\n                return (\n                  <div>{rowData.type}</div>\n                )\n              } else if (rowData.status == 'processing') {\n                return (\n                  <div css={{display: 'flex', alignItems: 'center'}}>\n                    <ProcessingIcon />\n                    <div css={{marginLeft: 3}}>{'Processing...'}</div>\n                  </div>\n                )\n              } else if (rowData.status == 'uploading') {\n                return (\n                  <div css={{display: 'flex', alignItems: 'center'}}>\n                    <UploadingIcon />\n                    <div css={{marginLeft: 3}}>{'Uploading...'}</div>\n                  </div>\n                )\n              } else {\n                return <div>{'Unknown'}</div>\n              }\n            }} />\n            <Column width={140} label=\"Added\" dataKey=\"createdAt\" />\n            <Column dataKey=\"name\" className=\"signature\" width={width-600} cellRenderer={({rowData}) => {\n              if (!rowData.signed) return null;\n              return (\n                <div css={{display: 'flex', alignItems: 'center'}}>\n                  <SignedIcon />\n                  <div css={{marginLeft: 3, color: '#02A12B'}}>{'Signed'}</div>\n                </div>\n              )\n            }} />\n          </RTable>\n        )}\n      </AutoSizer>\n  );\n}\n\nexport default Table;\n","import React, {useCallback} from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport {useDropzone} from 'react-dropzone'\nimport overmind from '../../../overmind'\n\nfunction Dropzone(props) {\n  const { actions } = overmind();\n  const myActions = actions.view.Pages.Data.Dropzone;\n  const onDrop = useCallback(acceptedFiles => {\n    if (myActions.filesDropped) myActions.filesDropped(acceptedFiles);\n  }, [])\n  const {getRootProps, getInputProps, isDragActive, open} = useDropzone({onDrop, noClick: true})\n  return (\n    <div css={{flex: 1, display: 'flex'}} {...getRootProps()}>\n      {\n        props.children\n      }\n      {\n        <input id=\"user-search-2\" {...getInputProps()} />\n      }\n    </div>\n  );\n}\n\nexport default Dropzone;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport TopBar from './TopBar';\nimport Table from './Table';\nimport Dropzone from './Dropzone';\n\n\n\nfunction Data() {\n  return (\n    <div css={{\n      flex: 1,\n      display: 'flex',\n      flexDirection: 'column'\n    }}>\n      <TopBar />\n      <div css={css`\n        height: 1px;\n        background: #979797;\n        margin-left: 20px;\n        margin-right: 20px;\n      `}/>\n      <div css={{flex: 1, padding: 30, paddingTop: 15, display: 'flex'}}>\n        <div css={{border: '1px solid #979797', flex: 1, display: 'flex'}}>\n          <Dropzone>\n            <Table />\n          </Dropzone>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Data;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx } from '@emotion/core'\nimport Data from './Data';\n\nfunction Pages() {\n  return (\n    <div css={{\n      display: 'flex',\n      flex: '1',\n      boxShadow: 'inset 5px 5px 5px #dddddd'\n    }}>\n      <Data />\n    </div>\n  );\n}\n\nexport default Pages;\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Header } from 'semantic-ui-react'\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\n\nfunction MyHeader(props) {\n  const { state } = overmind();\n  const myState = state.view.Modals.FileDetailsModal;\n  if (myState.audit != null && _.keys(myState.audit).length > 0) {\n    return (\n      <Header>FSQA Audit: {_.get(myState, 'audit.organization.name')}</Header>\n    );\n  } else if (myState.coi != null) {\n    return (\n      <Header>Certificate of Insurance: {_.get(myState, 'coi.producer.name')}</Header>\n    );\n  } else {\n    return (\n      <Header>{'Unknown File'}</Header>\n    );\n  }\n}\n\nexport default MyHeader\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport moment from 'moment'\n\nfunction Audit(props) {\n  const { audit } = props;\n\n  let validity = null;\n  if (audit.certificate_validity_period && audit.certificate_validity_period.start && audit.certificate_validity_period.end) {\n    validity = {\n      start: moment(audit.certificate_validity_period.start, 'M/D/YYYY'),\n      end: moment(audit.certificate_validity_period.end, 'M/D/YYYY'),\n    }\n    if (!validity.start || !validity.start.isValid()) validity = null;\n    if (!validity.end || !validity.end.isValid()) validity = null;\n    const now = moment();\n    // If it starts after today, or ended before today, it's expired\n    validity.expired = validity.start.isAfter(now) || validity.end.isBefore(now);\n  }\n  const org = (audit.organization && audit.organization.name) || null;\n\n  let r = 0; // track which row we're on\n  const rowstyles = [ \n    { backgroundColor: '#FFFFFF' }, // even rows\n    { backgroundColor: '#EEEEEE' }, // odd rows\n  ];\n  const labelstyle = { fontWeight: 'bold', padding: '15px' };\n  const contentstyle = { padding: '15px' };\n  return (\n    <table style={{fontSize: '1.2em' }}>\n      <tbody>\n        {/* Row 1: Organization or Holder */}\n        { !(org) ? '' : \n          <tr style={rowstyles[r++%2]}>\n            <td align=\"right\" style={labelstyle}>Organization:</td>\n            <td style={contentstyle}>{org}</td>\n          </tr>\n        }\n\n        {/* Row 2: Score */}\n        { !(audit.score && audit.score.final) ? '' : \n          <tr style={rowstyles[r++%2]}>\n            <td align=\"right\" style={labelstyle}>Score:</td>\n            <td style={contentstyle}>\n              {audit.score.final.value} \n              &nbsp;\n              {!audit.score.rating ? '' : \n                <span style={{color: audit.score.rating.match(/(good|excellent)/i) ? 'green' : 'red'}}>\n                  ({audit.score.rating.trim()})\n                </span>\n              }\n            </td>\n          </tr>\n        }\n\n        {/* Row 3: Scope */}\n        { !(audit.scope && audit.scope.products_observed) ? '' : \n          <tr style={rowstyles[r++%2]}>\n            <td align=\"right\" style={labelstyle}>Scope (Products):</td>\n            <td style={contentstyle}>\n              { _.map(audit.scope.products_observed, (p,idx) => \n                <span key={'product'+idx} style={{border: \"solid #AAAAAA 1px\", borderRadius: '3px', paddingLeft: '3px', paddingRight: '3px', marginLeft: '3px', marginRight: '3px' }}>\n                  {p.name}\n                </span>)\n              }\n            </td>\n          </tr>\n        }\n\n        {/* Row 4: Validity */}\n        { !(validity) ? '' : \n          <tr style={rowstyles[r++%2]}>\n            <td align=\"right\" style={labelstyle}>Validity:</td>\n            <td style={contentstyle}>\n              { validity.expired ? \n                <span style={{color: 'red'}}>EXPIRED!</span> :\n                <span style={{color: 'green'}}>VALID</span>\n              }\n              &nbsp;(from {validity.start.format('MMM d, YYYY')} to {validity.end.format('MMM d, YYYY')})\n            </td>\n          </tr>\n        }\n\n      </tbody>\n    </table>\n  )\n}\n\nexport default Audit\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport moment from 'moment'\n\nfunction CoI(props) {\n  const { coi } = props;\n\n  const holder = (coi.holder && coi.holder.name) || null;\n  let policies = coi.policies || null; // COI has policies\n  // Filter policies whose dates we can't parse\n  policies = policies && _.filter(policies, p => {\n    p.start = moment(p.effective_date);\n    p.end = moment(p.expire_date);\n    if (!p.start.isValid())  return false;\n    if (!p.end.isValid()) return false;\n    const now = moment();\n    p.expired = p.start.isAfter(now) || p.end.isBefore(now);\n    return true; // keep this one in the list\n  });\n  let r = 0; // keep track of which row we're on\n  const rowstyles = [\n    { backgroundColor: '#FFFFFF' }, // even rows\n    { backgroundColor: '#EEEEEE' }, // odd rows\n  ];\n  const labelstyle = { fontWeight: 'bold', padding: '15px' };\n  const contentstyle = { padding: '15px' };\n  return (\n    <table style={{fontSize: '1.2em' }}>\n      <tbody>{/* Row 1: Holder */}\n        { !(holder) ? '' : \n          <tr style={rowstyles[r++%2]}>\n            <td align=\"right\" style={labelstyle}>Holder:</td>\n            <td style={contentstyle}>{holder}</td>\n          </tr>\n        }\n\n        {/* Row 2: Policies */}\n        { !(policies) ? '' : \n          <tr style={rowstyles[r++%2]}>\n            <td align=\"right\" style={labelstyle}>Policies:</td>\n            <td style={contentstyle}>\n              <table><tbody>\n                { _.map(policies, (p,idx) => \n                    <tr key={'policy'+idx} style={{color: p.expired ? 'red' : 'green' }}>\n                      <td align=\"right\">{p.number}:</td>\n                      <td>\n                        {p.expired ? 'EXPIRED!' : 'VALID'}\n                        &nbsp;(from {p.start.format('MMM d, YYYY')} to {p.end.format('MMM d, YYYY')})\n                      </td>\n                    </tr>\n                  )\n                }\n              </tbody></table>\n            </td>\n          </tr>\n        }\n\n      </tbody>\n    </table>\n  )\n}\n\nexport default CoI\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport moment from 'moment'\nimport ReactJson from 'react-json-view'\nimport Audit from './Audit'\nimport CoI from './CoI'\n\nfunction Content(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.FileDetailsModal;\n  const myState = state.view.Modals.FileDetailsModal;\n\n  var jsonData = null;\n  var jsonTitle = '';\n  if (_.isEmpty(myState.audit) == false) {\n    jsonData = _.get(myState, 'audit');\n    jsonTitle = 'audit';\n  } else if (_.isEmpty(myState.coi) == false) {\n    jsonData = _.get(myState, 'coi');\n    jsonTitle = 'coi';\n  }\n  if (jsonData) {\n    jsonData = _.cloneDeep(jsonData);\n    if (jsonData._id) delete jsonData._id;\n    if (jsonData._rev) delete jsonData._rev;\n    if (jsonData._type) delete jsonData._type;\n    if (jsonData._meta) delete jsonData._meta;\n  }\n\n  return (\n    <div>\n      {\n        (jsonTitle === 'audit') ? \n          <Audit audit={jsonData} /> \n        : (jsonTitle === 'coi') ? \n          <CoI coi={jsonData} />\n        : <span>Unknown Document Type</span>\n      }\n\n      { !myState.showData ? '' :\n        (jsonData == null ? \n          <span>&lt; No Data &gt;</span> :\n          <ReactJson src={jsonData} name={jsonTitle} \n            collapsed={1} collapseStringsAfterLength={50} \n            displayDataTypes={false} displayObjectSize={false} \n            enableClipboard={false} \n          />\n        )\n      }\n\n      <div css={{\n          color: '#2439FF',\n          fontSize: 16,\n          marginBottom: 7,\n          display: 'flex',\n          justifyContent: 'center'\n        }}>\n        <div css={{cursor: 'pointer'}} onClick={()=>myActions.viewPDF(_.get(myState, 'documentKey'))}>{'VIEW PDF'}</div>\n        &nbsp;&nbsp;|&nbsp;&nbsp;\n        <div css={{cursor: 'pointer'}} onClick={()=>myActions.toggleShowData(_.get(myState, 'documentKey'))}>{'VIEW DATA'}</div>\n      </div>\n\n    </div>\n  )\n}\n\nexport default Content\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Button, Dropdown, Icon } from 'semantic-ui-react'\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport ReactJson from 'react-json-view'\n\nfunction Sharing(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.FileDetailsModal;\n  const myState = state.view.Modals.FileDetailsModal;\n  const shareOptions = _.chain(myState.share).map((share, key) => {\n    if (share.status == 'approved') return null;\n    var type = share.type;\n    if (type == 'fl') type = 'FoodLogiQ';\n    if (type == 'shareWf') type = 'Trellis';\n    return {\n      key,\n      text: `${share['with']} - ${type}`,\n      value: key\n    }\n  }).compact().value();\n  const shareValue = _.chain(myState.share).map((share, key) => {\n    if (share.status == 'pending') return key;\n  }).compact().value();\n  const approvedList = _.chain(myState.share).map((share) => {\n    var type = share.type;\n    if (type == 'fl') type = 'FoodLogiQ';\n    if (type == 'shareWf') type = 'Trellis';\n    if (share.status == 'approved') return `${share['with']} - ${type}`;\n  }).compact().value();\n  return (\n    <div css={{display: 'flex', flexDirection: 'column', justifyContent: 'space-between'}}>\n      <div css={{fontSize: 27, marginBottom: 10, fontWeight: 'bold'}}>\n        {'Share with others:'}\n      </div>\n      <div css={{display: 'flex'}}>\n        <Dropdown\n          css={{marginRight: 5}}\n          placeholder='Select trading partners...'\n          fluid\n          multiple\n          search\n          selection\n          options={shareOptions}\n          value={shareValue}\n          onChange={(evt, data)=>{myActions.onShareChange(data.value)}}\n        />\n        <Button icon primary labelPosition='left' disabled={(shareValue.length == 0)} onClick={myActions.share}>\n          <Icon name='send' />\n          Share\n        </Button>\n      </div>\n      {\n        (approvedList.length > 0) ?\n        <div css={{fontSize: 15, color: '#787878', marginTop: 5}}>{'Shared with: ' + approvedList.join(', ')}</div>\n        :\n        null\n      }\n    </div>\n  );\n}\nexport default Sharing\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Modal } from 'semantic-ui-react'\nimport overmind from '../../../overmind'\n\nimport Header from './Header';\nimport Content from './Content';\nimport Sharing from './Sharing'\n\nfunction FileDetailsModal(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.FileDetailsModal;\n  const myState = state.view.Modals.FileDetailsModal;\n  return (\n    <Modal open={myState.open} onClose={myActions.close}>\n      <Header />\n      <Modal.Content >\n        <div css={{minHeight: 350, display: 'flex', flexDirection: 'column', justifyContent: 'space-between'}}>\n          <Content />\n          <Sharing />\n        </div>\n      </Modal.Content>\n    </Modal>\n  );\n}\n\nexport default FileDetailsModal\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Document, Page } from 'react-pdf';\n\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport { Modal } from 'semantic-ui-react'\n\nfunction PDFViewerModal(props) {\n  const { actions, state } = overmind();\n  const myActions = actions.view.Modals.PDFViewerModal;\n  const myState = state.view.Modals.PDFViewerModal;\n  return (\n    <Modal open={myState.open} onClose={myActions.close}>\n      <Modal.Content>\n        <div css={css`\n            min-height: 350px;\n            &  .pdfPage {\n              display: flex;\n              justify-content: center;\n            }\n          `}>\n          <Document\n            file={\n              {\n                url: myState.url,\n                httpHeaders: myState.headers\n              }\n            }\n            onLoadSuccess={({numPages}) => {}}>\n            <Page className={'pdfPage'} pageNumber={1} />\n          </Document>\n        </div>\n      </Modal.Content>\n    </Modal>\n  );\n}\n\nexport default PDFViewerModal\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport _ from 'lodash'\nimport overmind from '../overmind'\nimport { Input, Button, Form, Dropdown } from 'semantic-ui-react'\nimport 'semantic-ui-css/semantic.min.css'\nimport config from '../config';\n\nfunction Login() {\n  const { state, actions } = overmind();\n  const appState = state.app;\n  const myState = state.login;\n  const myActions = actions.login;\n\n  const bg = appState.skins[appState.skin].loginBackground;\n  const logo = appState.skins[appState.skin].logo;\n  return (\n    <div css={css`\n      height: 100vh;\n      width: 100vw;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      background: url(skins/${appState.skin}/${bg}) no-repeat center center fixed;\n      background-size: cover;\n    `}>\n      <div css={css`\n        width: 250px;\n        display: flex;\n        flex-direction: column;\n      `}>\n        <img css={{\n          height: logo.height,\n          marginBottom: 25\n        }} src={`skins/${appState.skin}/${logo.src}`} alt=\"logo\" />\n        <Form css={css`\n          display: flex;\n          flex-direction: column;\n        `} onSubmit={myActions.login}>\n          <Input placeholder='Trellis Domain...' value={myState.domain} onChange={(evt, data) => myActions.domainChange(data)} />\n          <Button\n            style={{marginTop: 7}} primary\n            loading={myState.loading}\n            disabled={myState.loading}>\n            Connect to Your Trellis\n          </Button>\n        </Form>\n      </div>\n      <a css={css`\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        font-size: 1.2em;\n        color: #FFFFFF;\n        cursor: pointer;\n      `} onClick={myActions.logout}\n      >Logout</a>\n\n      <div css={css`\n        position: absolute;\n        top: 5px;\n        left: 5px;\n      `}>\n        <Dropdown icon={{name: 'bars', inverted: true, size: 'large'}} text=''>\n          <Dropdown.Menu>\n            {_.map(_.keys(state.app.skins), (s,i) =>\n              <Dropdown.Item key={'skindropdownitem'+i} text={s} value={s} onClick={() => actions.app.skinChange(s)} />\n            )}\n          </Dropdown.Menu>\n        </Dropdown>\n      </div>\n\n\n    </div>\n  );\n}\n\nexport default Login;\n","import React from 'react';\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from './overmind'\n\nimport TopBar from './view/TopBar';\nimport SideBar from './view/SideBar';\nimport Pages from './view/Pages';\nimport FileDetailsModal from './view/Modals/FileDetailsModal';\nimport PDFViewerModal from './view/Modals/PDFViewerModal';\nimport Login from './Login';\n\nfunction App() {\n  const { state, actions } = overmind();\n  if (!state.login.loggedIn) {\n    return <Login />\n  }\n  return (\n    <div css={{\n      height: '100vh',\n      width: '100vw',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'stretch'\n    }}>\n\n      <TopBar />\n      <div css={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'stretch'\n      }}>\n        <SideBar />\n        <Pages />\n        <FileDetailsModal />\n        <PDFViewerModal />\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { createOvermind } from \"overmind\";\nimport { Provider } from \"overmind-react\";\nimport { config } from './overmind'\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst app = createOvermind(config,\n{\n    devtools: true,\n});\n\nReactDOM.render(\n  <Provider value={app}>\n    <App />\n  </Provider>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}